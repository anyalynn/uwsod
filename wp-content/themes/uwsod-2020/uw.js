function toggle(t,e){var s=document.getElementById(t);"false"==s.getAttribute("aria-hidden")?(s.setAttribute("aria-hidden","true"),s.setAttribute("class",""),document.getElementById(e).setAttribute("aria-expanded","false"),document.getElementById("uw-container").setAttribute("class","")):(s.setAttribute("aria-hidden","false"),s.setAttribute("class","open"),document.getElementById(e).setAttribute("aria-expanded","true"),document.getElementById("uw-container").setAttribute("class","open"))}function getRadioBtnValue(t){for(var e,s=document.getElementsByName(t),i=0;i<s.length;i++)s[i].checked&&(e=s[i].value);return e}function formVal(){memTypeLabel.style.border="",userAlumMemName.style.border="",userEmail.style.border="",userGradYr.style.border="",recurLabel.style.border="";var t=getRadioBtnValue("MemType");$("#userMemType").val(t),"New Member"==t?$("#ItemCost1").val("50.00"):$("#ItemCost1").val("120.00"),"Yes"==getRadioBtnValue("userAnnualRecur")?$("#ItemQty2").val("1"):$("#ItemQty2").val("0"),$("#ItemDesc1").val($("#userMemType").val()+"-"+$("#userAlumMemName").val()+"-"+$("#userGradYr").val()),$("#BillEmail").val($("#userEmail").val());var e=!0;return""===document.getElementById("userMemType").value&&(inval.style.display="block",memTypeLabel.style.border="2px solid red",e=!1),""===document.getElementById("userAlumMemName").value&&(inval.style.display="block",userAlumMemName.style.border="2px solid red",e=!1),""===document.getElementById("userEmail").value&&(inval.style.display="block",userEmail.style.border="2px solid red",e=!1),""===document.getElementById("userGradYr").value&&(inval.style.display="block",userGradYr.style.border="2px solid red",e=!1),""===document.getElementById("ItemQty2").value&&(inval.style.display="block",recurLabel.style.border="2px solid red",e=!1),$.ajax({type:"POST",url:"https://dental.washington.edu/wp-content/converge/alumni.php",data:$("#alum-renew").serializeObject(),dataType:"json",async:!1,success:function(t){"successful"!=t.status&&(e=!1,inval.style.display="block",inval_r.style.display="block")},error:function(){}}),e}(function(){var kc;jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,s,i,n){return jQuery.easing[jQuery.easing.def](t,e,s,i,n)},easeInQuad:function(t,e,s,i,n){return i*(e/=n)*e+s},easeOutQuad:function(t,e,s,i,n){return-i*(e/=n)*(e-2)+s},easeInOutQuad:function(t,e,s,i,n){return(e/=n/2)<1?i/2*e*e+s:-i/2*(--e*(e-2)-1)+s},easeInCubic:function(t,e,s,i,n){return i*(e/=n)*e*e+s},easeOutCubic:function(t,e,s,i,n){return i*((e=e/n-1)*e*e+1)+s},easeInOutCubic:function(t,e,s,i,n){return(e/=n/2)<1?i/2*e*e*e+s:i/2*((e-=2)*e*e+2)+s},easeInQuart:function(t,e,s,i,n){return i*(e/=n)*e*e*e+s},easeOutQuart:function(t,e,s,i,n){return-i*((e=e/n-1)*e*e*e-1)+s},easeInOutQuart:function(t,e,s,i,n){return(e/=n/2)<1?i/2*e*e*e*e+s:-i/2*((e-=2)*e*e*e-2)+s},easeInQuint:function(t,e,s,i,n){return i*(e/=n)*e*e*e*e+s},easeOutQuint:function(t,e,s,i,n){return i*((e=e/n-1)*e*e*e*e+1)+s},easeInOutQuint:function(t,e,s,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+s:i/2*((e-=2)*e*e*e*e+2)+s},easeInSine:function(t,e,s,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+s},easeOutSine:function(t,e,s,i,n){return i*Math.sin(e/n*(Math.PI/2))+s},easeInOutSine:function(t,e,s,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+s},easeInExpo:function(t,e,s,i,n){return 0==e?s:i*Math.pow(2,10*(e/n-1))+s},easeOutExpo:function(t,e,s,i,n){return e==n?s+i:i*(1-Math.pow(2,-10*e/n))+s},easeInOutExpo:function(t,e,s,i,n){return 0==e?s:e==n?s+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+s:i/2*(2-Math.pow(2,-10*--e))+s},easeInCirc:function(t,e,s,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+s},easeOutCirc:function(t,e,s,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+s},easeInOutCirc:function(t,e,s,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+s:i/2*(Math.sqrt(1-(e-=2)*e)+1)+s},easeInElastic:function(t,e,s,i,n){var o=1.70158,r=0,a=i;if(0==e)return s;if(1==(e/=n))return s+i;if(r=r||.3*n,a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/r)+s},easeOutElastic:function(t,e,s,i,n){var o=1.70158,r=0,a=i;if(0==e)return s;if(1==(e/=n))return s+i;if(r=r||.3*n,a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*e)*Math.sin((e*n-o)*(2*Math.PI)/r)+i+s},easeInOutElastic:function(t,e,s,i,n){var o=1.70158,r=0,a=i;if(0==e)return s;if(2==(e/=n/2))return s+i;if(r=r||n*(.3*1.5),a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/r)*-.5+s:a*Math.pow(2,-10*(e-=1))*Math.sin((e*n-o)*(2*Math.PI)/r)*.5+i+s},easeInBack:function(t,e,s,i,n,o){return null==o&&(o=1.70158),i*(e/=n)*e*((o+1)*e-o)+s},easeOutBack:function(t,e,s,i,n,o){return null==o&&(o=1.70158),i*((e=e/n-1)*e*((o+1)*e+o)+1)+s},easeInOutBack:function(t,e,s,i,n,o){return null==o&&(o=1.70158),(e/=n/2)<1?i/2*(e*e*((1+(o*=1.525))*e-o))+s:i/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+s},easeInBounce:function(t,e,s,i,n){return i-jQuery.easing.easeOutBounce(t,n-e,0,i,n)+s},easeOutBounce:function(t,e,s,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+s:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+s:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+s:i*(7.5625*(e-=2.625/2.75)*e+.984375)+s},easeInOutBounce:function(t,e,s,i,n){return e<n/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,n)+s:.5*jQuery.easing.easeOutBounce(t,2*e-n,0,i,n)+.5*i+s}}),kc=function(y){"use strict";var j="tinyscrollbar",b={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};function e(n,t){this.options=y.extend({},b,t),this._defaults=b,this._name=j;var o=this,s=n.find(".viewport"),r=n.find(".overview"),i=n.find(".scrollbar"),a=i.find(".track"),l=i.find(".thumb"),c=0,u="x"===this.options.axis,h="ontouchstart"in document.documentElement,e="onwheel"in document||9<=document.documentMode?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",d=u?"width":"height",p=u?"left":"top";function v(t){y("body").addClass("noSelect"),c=u?t.pageX:t.pageY,o.thumbPosition=parseInt(l.css(p),10)||0,h?(document.ontouchmove=function(t){t.preventDefault(),f(t.touches[0])},document.ontouchend=g):(y(document).bind("mousemove",f),y(document).bind("mouseup",g),l.bind("mouseup",g))}function m(t){if(o.contentRatio<1){var e=t||window.event,s=-(e["delta"+o.options.axis.toUpperCase()]||e.detail||-1/3*e.wheelDelta)/40;o.contentPosition-=s*o.options.wheelSpeed,o.contentPosition=Math.min(o.contentSize-o.viewportSize,Math.max(0,o.contentPosition)),n.trigger("move"),l.css(p,o.contentPosition/o.trackRatio),r.css(p,-o.contentPosition),(o.options.wheelLock||o.contentPosition!==o.contentSize-o.viewportSize&&0!==o.contentPosition)&&(e=y.event.fix(e)).preventDefault()}}function f(t){if(o.contentRatio<1){var e=u?t.pageX:t.pageY,s=e-c;o.options.scrollInvert&&h&&(s=c-e);var i=Math.min(o.trackSize-o.thumbSize,Math.max(0,o.thumbPosition+s));o.contentPosition=i*o.trackRatio,n.trigger("move"),l.css(p,i),r.css(p,-o.contentPosition)}}function g(){y("body").removeClass("noSelect"),y(document).unbind("mousemove",f),y(document).unbind("mouseup",g),l.unbind("mouseup",g),document.ontouchmove=document.ontouchend=null}return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(t){var e=d.charAt(0).toUpperCase()+d.slice(1).toLowerCase();switch(this.viewportSize=s[0]["offset"+e],this.contentSize=r[0]["scroll"+e],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,c=a.offset().top,i.toggleClass("disable",1<=this.contentRatio),t){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(t,10)||0}return l.css(p,o.contentPosition/o.trackRatio),r.css(p,-o.contentPosition),i.css(d,o.trackSize),a.css(d,o.trackSize),l.css(d,o.thumbSize),o},o.update(),h?s[0].ontouchstart=function(t){1===t.touches.length&&(t.stopPropagation(),v(t.touches[0]))}:(l.bind("mousedown",v),a.bind("mousedown",f)),y(window).resize(function(){o.update("relative")}),o.options.wheel&&window.addEventListener?n[0].addEventListener(e,m,!1):o.options.wheel&&(n[0].onmousewheel=m),o}y.fn[j]=function(t){return this.each(function(){y.data(this,"plugin_"+j)||y.data(this,"plugin_"+j,new e(y(this),t))})}},"function"==typeof define&&define.amd?define(["jquery"],kc):"object"==typeof exports?kc(require("jquery")):kc(jQuery),document.createElement("video"),document.createElement("audio"),document.createElement("track");var vjs=function(t,e,s){var i;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),vjs.players[t])return vjs.players[t];i=vjs.el(t)}else i=t;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new vjs.Player(i,e,s)},videojs=vjs;window.videojs=window.vjs=vjs,vjs.CDN_VERSION="4.6",vjs.ACCESS_PROTOCOL="https:"==document.location.protocol?"https://":"http://",vjs.options={techOrder:["html5","flash"],html5:{},flash:{},width:300,height:150,defaultVolume:0,playbackRates:[],children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},bigPlayButton:{},controlBar:{},errorDisplay:{}},notSupportedMessage:"No compatible source was found for this video."},"GENERATED_CDN_VSN"!==vjs.CDN_VERSION&&(videojs.options.flash.swf=vjs.ACCESS_PROTOCOL+"vjs.zencdn.net/"+vjs.CDN_VERSION+"/video-js.swf"),vjs.players={},"function"==typeof define&&define.amd?define([],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),vjs.CoreObject=vjs.CoreObject=function(){},vjs.CoreObject.extend=function(t){var e,s;for(var i in e=(t=t||{}).init||t.init||this.prototype.init||this.prototype.init||function(){},(((s=function(){e.apply(this,arguments)}).prototype=vjs.obj.create(this.prototype)).constructor=s).extend=vjs.CoreObject.extend,s.create=vjs.CoreObject.create,t)t.hasOwnProperty(i)&&(s.prototype[i]=t[i]);return s},vjs.CoreObject.create=function(){var t=vjs.obj.create(this.prototype);return this.apply(t,arguments),t},vjs.on=function(o,t,e){var r=vjs.getData(o);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),e.guid||(e.guid=vjs.guid++),r.handlers[t].push(e),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t){if(!r.disabled){t=vjs.fixEvent(t);var e=r.handlers[t.type];if(e)for(var s=e.slice(0),i=0,n=s.length;i<n&&!t.isImmediatePropagationStopped();i++)s[i].call(o,t)}}),1==r.handlers[t].length&&(document.addEventListener?o.addEventListener(t,r.dispatcher,!1):document.attachEvent&&o.attachEvent("on"+t,r.dispatcher))},vjs.off=function(e,t,s){if(vjs.hasData(e)){var i=vjs.getData(e);if(i.handlers){function n(t){i.handlers[t]=[],vjs.cleanUpEvents(e,t)}if(t){var o=i.handlers[t];if(o)if(s){if(s.guid)for(var r=0;r<o.length;r++)o[r].guid===s.guid&&o.splice(r--,1);vjs.cleanUpEvents(e,t)}else n(t)}else for(var a in i.handlers)n(a)}}},vjs.cleanUpEvents=function(t,e){var s=vjs.getData(t);0===s.handlers[e].length&&(delete s.handlers[e],document.removeEventListener?t.removeEventListener(e,s.dispatcher,!1):document.detachEvent&&t.detachEvent("on"+e,s.dispatcher)),vjs.isEmpty(s.handlers)&&(delete s.handlers,delete s.dispatcher,delete s.disabled),vjs.isEmpty(s)&&vjs.removeData(t)},vjs.fixEvent=function(t){function e(){return!0}function s(){return!1}if(!t||!t.isPropagationStopped){var i=t||window.event;for(var n in t={},i)"layerX"!==n&&"layerY"!==n&&"keyboardEvent.keyLocation"!==n&&("returnValue"==n&&i.preventDefault||(t[n]=i[n]));if(t.target||(t.target=t.srcElement||document),t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement,t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,t.isDefaultPrevented=e,t.defaultPrevented=!0},t.isDefaultPrevented=s,t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=s,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=s,null!=t.clientX){var o=document.documentElement,r=document.body;t.pageX=t.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t},vjs.trigger=function(t,e){var s=vjs.hasData(t)?vjs.getData(t):{},i=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=vjs.fixEvent(e),s.dispatcher&&s.dispatcher.call(t,e),i&&!e.isPropagationStopped()&&!1!==e.bubbles)vjs.trigger(i,e);else if(!i&&!e.defaultPrevented){var n=vjs.getData(e.target);e.target[e.type]&&(n.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),n.disabled=!1)}return!e.defaultPrevented},vjs.one=function(t,e,s){var i=function(){vjs.off(t,e,i),s.apply(this,arguments)};i.guid=s.guid=s.guid||vjs.guid++,vjs.on(t,e,i)};var hasOwnProp=Object.prototype.hasOwnProperty,Ee,Fe,De;vjs.createEl=function(t,e){var s,i;for(i in s=document.createElement(t||"div"),e)hasOwnProp.call(e,i)&&(-1!==i.indexOf("aria-")||"role"==i?s.setAttribute(i,e[i]):s[i]=e[i]);return s},vjs.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},vjs.obj={},vjs.obj.create=Object.create||function(t){function e(){}return e.prototype=t,new e},vjs.obj.each=function(t,e,s){for(var i in t)hasOwnProp.call(t,i)&&e.call(s||this,i,t[i])},vjs.obj.merge=function(t,e){if(!e)return t;for(var s in e)hasOwnProp.call(e,s)&&(t[s]=e[s]);return t},vjs.obj.deepMerge=function(t,e){var s,i,n;for(s in t=vjs.obj.copy(t),e)hasOwnProp.call(e,s)&&(i=t[s],n=e[s],vjs.obj.isPlain(i)&&vjs.obj.isPlain(n)?t[s]=vjs.obj.deepMerge(i,n):t[s]=e[s]);return t},vjs.obj.copy=function(t){return vjs.obj.merge({},t)},vjs.obj.isPlain=function(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object},vjs.bind=function(t,e,s){e.guid||(e.guid=vjs.guid++);function i(){return e.apply(t,arguments)}return i.guid=s?s+"_"+e.guid:e.guid,i},vjs.cache={},vjs.guid=1,vjs.expando="vdata"+(new Date).getTime(),vjs.getData=function(t){var e=t[vjs.expando];return e||(e=t[vjs.expando]=vjs.guid++,vjs.cache[e]={}),vjs.cache[e]},vjs.hasData=function(t){var e=t[vjs.expando];return!(!e||vjs.isEmpty(vjs.cache[e]))},vjs.removeData=function(e){var t=e[vjs.expando];if(t){delete vjs.cache[t];try{delete e[vjs.expando]}catch(t){e.removeAttribute?e.removeAttribute(vjs.expando):e[vjs.expando]=null}}},vjs.isEmpty=function(t){for(var e in t)if(null!==t[e])return!1;return!0},vjs.addClass=function(t,e){-1==(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className=""===t.className?e:t.className+" "+e)},vjs.removeClass=function(t,e){var s,i;if(-1!=t.className.indexOf(e)){for(i=(s=t.className.split(" ")).length-1;0<=i;i--)s[i]===e&&s.splice(i,1);t.className=s.join(" ")}},vjs.TEST_VID=vjs.createEl("video"),vjs.USER_AGENT=navigator.userAgent,vjs.IS_IPHONE=/iPhone/i.test(vjs.USER_AGENT),vjs.IS_IPAD=/iPad/i.test(vjs.USER_AGENT),vjs.IS_IPOD=/iPod/i.test(vjs.USER_AGENT),vjs.IS_IOS=vjs.IS_IPHONE||vjs.IS_IPAD||vjs.IS_IPOD,vjs.IOS_VERSION=function(){var t=vjs.USER_AGENT.match(/OS (\d+)_/i);if(t&&t[1])return t[1]}(),vjs.IS_ANDROID=/Android/i.test(vjs.USER_AGENT),vjs.ANDROID_VERSION=(De=vjs.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),De?(Ee=De[1]&&parseFloat(De[1]),Fe=De[2]&&parseFloat(De[2]),Ee&&Fe?parseFloat(De[1]+"."+De[2]):Ee||null):null),vjs.IS_OLD_ANDROID=vjs.IS_ANDROID&&/webkit/i.test(vjs.USER_AGENT)&&vjs.ANDROID_VERSION<2.3,vjs.IS_FIREFOX=/Firefox/i.test(vjs.USER_AGENT),vjs.IS_CHROME=/Chrome/i.test(vjs.USER_AGENT),vjs.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),vjs.getAttributeValues=function(t){var e,s,i,n,o;if(e={},s=",autoplay,controls,loop,muted,default,",t&&t.attributes&&0<t.attributes.length)for(var r=(i=t.attributes).length-1;0<=r;r--)n=i[r].name,o=i[r].value,"boolean"!=typeof t[n]&&-1===s.indexOf(","+n+",")||(o=null!==o),e[n]=o;return e},vjs.getComputedDimension=function(t,e){var s="";return document.defaultView&&document.defaultView.getComputedStyle?s=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(s=t["client"+e.substr(0,1).toUpperCase()+e.substr(1)]+"px"),s},vjs.insertFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},vjs.browser={},vjs.el=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),document.getElementById(t)},vjs.formatTime=function(t,e){e=e||t;var s=Math.floor(t%60),i=Math.floor(t/60%60),n=Math.floor(t/3600),o=Math.floor(e/60%60),r=Math.floor(e/3600);return!isNaN(t)&&t!==1/0||(n=i=s="-"),(n=0<n||0<r?n+":":"")+(i=((n||10<=o)&&i<10?"0"+i:i)+":")+(s=s<10?"0"+s:s)},vjs.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},vjs.unblockTextSelection=function(){document.onselectstart=function(){return!0}},vjs.trim=function(t){return(t+"").replace(/^\s+|\s+$/g,"")},vjs.round=function(t,e){return e=e||0,Math.round(t*Math.pow(10,e))/Math.pow(10,e)},vjs.createTimeRange=function(t,e){return{length:1,start:function(){return t},end:function(){return e}}},vjs.get=function(t,e,s,i){var n,o,r,a;s=s||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("This browser does not support XMLHttpRequest.")}),o=new XMLHttpRequest,r=vjs.parseUrl(t),a=window.location,!(r.protocol+r.host!==a.protocol+a.host)||!window.XDomainRequest||"withCredentials"in o?(n="file:"==r.protocol||"file:"==a.protocol,o.onreadystatechange=function(){4===o.readyState&&(200===o.status||n&&0===o.status?e(o.responseText):s(o.responseText))}):((o=new window.XDomainRequest).onload=function(){e(o.responseText)},o.onerror=s,o.onprogress=function(){},o.ontimeout=s);try{o.open("GET",t,!0),i&&(o.withCredentials=!0)}catch(t){return void s(t)}try{o.send()}catch(t){s(t)}},vjs.setLocalStorage=function(t,e){try{var s=window.localStorage||!1;if(!s)return;s[t]=e}catch(t){22==t.code||1014==t.code?vjs.log("LocalStorage Full (VideoJS)",t):18==t.code?vjs.log("LocalStorage not allowed (VideoJS)",t):vjs.log("LocalStorage Error (VideoJS)",t)}},vjs.getAbsoluteURL=function(t){return t.match(/^https?:\/\//)||(t=vjs.createEl("div",{innerHTML:'<a href="'+t+'">x</a>'}).firstChild.href),t},vjs.parseUrl=function(t){var e,s,i,n,o;n=["protocol","hostname","port","pathname","search","hash","host"],(i=""===(s=vjs.createEl("a",{href:t})).host&&"file:"!==s.protocol)&&((e=vjs.createEl("div")).innerHTML='<a href="'+t+'"></a>',s=e.firstChild,e.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(e)),o={};for(var r=0;r<n.length;r++)o[n[r]]=s[n[r]];return i&&document.body.removeChild(e),o};var _noop=function(){},_console=window.console||{log:_noop,warn:_noop,error:_noop};function _logType(t,e){var s=Array.prototype.slice.call(e);t?s.unshift(t.toUpperCase()+":"):t="log",vjs.log.history.push(s),s.unshift("VIDEOJS:"),_console[t].apply?_console[t].apply(_console,s):_console[t](s.join(" "))}vjs.log=function(){_logType(null,arguments)},vjs.log.history=[],vjs.log.error=function(){_logType("error",arguments)},vjs.log.warn=function(){_logType("warn",arguments)},vjs.findPosition=function(t){var e,s,i,n,o,r,a,l,c;return t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),e?(s=document.documentElement,i=document.body,n=s.clientLeft||i.clientLeft||0,o=window.pageXOffset||i.scrollLeft,r=e.left+o-n,a=s.clientTop||i.clientTop||0,l=window.pageYOffset||i.scrollTop,c=e.top+l-a,{left:vjs.round(r),top:vjs.round(c)}):{left:0,top:0}},vjs.util={},vjs.util.mergeOptions=function(t,e){var s,i,n;for(s in t=vjs.obj.copy(t),e)e.hasOwnProperty(s)&&(i=t[s],n=e[s],vjs.obj.isPlain(i)&&vjs.obj.isPlain(n)?t[s]=vjs.util.mergeOptions(i,n):t[s]=e[s]);return t},vjs.Component=vjs.CoreObject.extend({init:function(t,e,s){this.player_=t,this.options_=vjs.obj.copy(this.options_),e=this.options(e),this.id_=e.id||(e.el&&e.el.id?e.el.id:t.id()+"_component_"+vjs.guid++),this.name_=e.name||null,this.el_=e.el||this.createEl(),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.initChildren(),this.ready(s),!1!==e.reportTouchActivity&&this.enableTouchActivity()}}),vjs.Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;0<=t;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),vjs.removeData(this.el_),this.el_=null},vjs.Component.prototype.player_=!0,vjs.Component.prototype.player=function(){return this.player_},vjs.Component.prototype.options_,vjs.Component.prototype.options=function(t){return void 0===t?this.options_:this.options_=vjs.util.mergeOptions(this.options_,t)},vjs.Component.prototype.el_,vjs.Component.prototype.createEl=function(t,e){return vjs.createEl(t,e)},vjs.Component.prototype.el=function(){return this.el_},vjs.Component.prototype.contentEl_,vjs.Component.prototype.contentEl=function(){return this.contentEl_||this.el_},vjs.Component.prototype.id_,vjs.Component.prototype.id=function(){return this.id_},vjs.Component.prototype.name_,vjs.Component.prototype.name=function(){return this.name_},vjs.Component.prototype.children_,vjs.Component.prototype.children=function(){return this.children_},vjs.Component.prototype.childIndex_,vjs.Component.prototype.getChildById=function(t){return this.childIndex_[t]},vjs.Component.prototype.childNameIndex_,vjs.Component.prototype.getChild=function(t){return this.childNameIndex_[t]},vjs.Component.prototype.addChild=function(t,e){var s,i,n;return s="string"==typeof t?(n=t,i=(e=e||{}).componentClass||vjs.capitalize(n),e.name=n,new window.videojs[i](this.player_||this,e)):t,this.children_.push(s),"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(n=n||s.name&&s.name())&&(this.childNameIndex_[n]=s),"function"==typeof s.el&&s.el()&&this.contentEl().appendChild(s.el()),s},vjs.Component.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,s=this.children_.length-1;0<=s;s--)if(this.children_[s]===t){e=!0,this.children_.splice(s,1);break}if(e){this.childIndex_[t.id]=null,this.childNameIndex_[t.name]=null;var i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},vjs.Component.prototype.initChildren=function(){var s,t,e,i,n;if(t=(s=this).options().children)if(t instanceof Array)for(var o=0;o<t.length;o++)n="string"==typeof(e=t[o])?(i=e,{}):(i=e.name,e),s[i]=s.addChild(i,n);else vjs.obj.each(t,function(t,e){!1!==e&&(s[t]=s.addChild(t,e))})},vjs.Component.prototype.buildCSSClass=function(){return""},vjs.Component.prototype.on=function(t,e){return vjs.on(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.off=function(t,e){return vjs.off(this.el_,t,e),this},vjs.Component.prototype.one=function(t,e){return vjs.one(this.el_,t,vjs.bind(this,e)),this},vjs.Component.prototype.trigger=function(t,e){return vjs.trigger(this.el_,t,e),this},vjs.Component.prototype.isReady_,vjs.Component.prototype.isReadyOnInitFinish_=!0,vjs.Component.prototype.readyQueue_,vjs.Component.prototype.ready=function(t){return t&&(this.isReady_?t.call(this):(void 0===this.readyQueue_&&(this.readyQueue_=[]),this.readyQueue_.push(t))),this},vjs.Component.prototype.triggerReady=function(){this.isReady_=!0;var t=this.readyQueue_;if(t&&0<t.length){for(var e=0,s=t.length;e<s;e++)t[e].call(this);this.readyQueue_=[],this.trigger("ready")}},vjs.Component.prototype.addClass=function(t){return vjs.addClass(this.el_,t),this},vjs.Component.prototype.removeClass=function(t){return vjs.removeClass(this.el_,t),this},vjs.Component.prototype.show=function(){return this.el_.style.display="block",this},vjs.Component.prototype.hide=function(){return this.el_.style.display="none",this},vjs.Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},vjs.Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},vjs.Component.prototype.disable=function(){this.hide(),this.show=function(){}},vjs.Component.prototype.width=function(t,e){return this.dimension("width",t,e)},vjs.Component.prototype.height=function(t,e){return this.dimension("height",t,e)},vjs.Component.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},vjs.Component.prototype.dimension=function(t,e,s){if(void 0!==e)return-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",s||this.trigger("resize"),this;if(!this.el_)return 0;var i=this.el_.style[t],n=i.indexOf("px");return-1!==n?parseInt(i.slice(0,n),10):parseInt(this.el_["offset"+vjs.capitalize(t)],10)},vjs.Component.prototype.onResize,vjs.Component.prototype.emitTapEvents=function(){var e,s,i,t,n,o;e=0,s=null,this.on("touchstart",function(t){1===t.touches.length&&(s=t.touches[0],e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(t){1<t.touches.length?i=!1:s&&(n=t.touches[0].pageX-s.pageX,o=t.touches[0].pageY-s.pageY,22<Math.sqrt(n*n+o*o)&&(i=!1))}),t=function(){i=!1},this.on("touchleave",t),this.on("touchcancel",t),this.on("touchend",function(t){!(s=null)===i&&(new Date).getTime()-e<250&&(t.preventDefault(),this.trigger("tap"))})},vjs.Component.prototype.enableTouchActivity=function(){var e,s,t;e=vjs.bind(this.player(),this.player().reportUserActivity),this.on("touchstart",function(){e(),clearInterval(s),s=setInterval(e,250)}),t=function(t){e(),clearInterval(s)},this.on("touchmove",e),this.on("touchend",t),this.on("touchcancel",t)},vjs.Button=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.emitTapEvents(),this.on("tap",this.onClick),this.on("click",this.onClick),this.on("focus",this.onFocus),this.on("blur",this.onBlur)}}),vjs.Button.prototype.createEl=function(t,e){var s;return e=vjs.obj.merge({className:this.buildCSSClass(),role:"button","aria-live":"polite",tabIndex:0},e),s=vjs.Component.prototype.createEl.call(this,t,e),e.innerHTML||(this.contentEl_=vjs.createEl("div",{className:"vjs-control-content"}),this.controlText_=vjs.createEl("span",{className:"vjs-control-text",innerHTML:this.buttonText||"Need Text"}),this.contentEl_.appendChild(this.controlText_),s.appendChild(this.contentEl_)),s},vjs.Button.prototype.buildCSSClass=function(){return"vjs-control "+vjs.Component.prototype.buildCSSClass.call(this)},vjs.Button.prototype.onClick=function(){},vjs.Button.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Button.prototype.onKeyPress=function(t){32!=t.which&&13!=t.which||(t.preventDefault(),this.onClick())},vjs.Button.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.bar=this.getChild(this.options_.barName),this.handle=this.getChild(this.options_.handleName),this.on("mousedown",this.onMouseDown),this.on("touchstart",this.onMouseDown),this.on("focus",this.onFocus),this.on("blur",this.onBlur),this.on("click",this.onClick),this.player_.on("controlsvisible",vjs.bind(this,this.update)),t.on(this.playerEvent,vjs.bind(this,this.update)),this.boundEvents={}}}),vjs.Slider.prototype.createEl=function(t,e){return(e=e||{}).className=e.className+" vjs-slider",e=vjs.obj.merge({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},e),vjs.Component.prototype.createEl.call(this,t,e)},vjs.Slider.prototype.onMouseDown=function(t){t.preventDefault(),vjs.blockTextSelection(),this.boundEvents.move=vjs.bind(this,this.onMouseMove),this.boundEvents.end=vjs.bind(this,this.onMouseUp),vjs.on(document,"mousemove",this.boundEvents.move),vjs.on(document,"mouseup",this.boundEvents.end),vjs.on(document,"touchmove",this.boundEvents.move),vjs.on(document,"touchend",this.boundEvents.end),this.onMouseMove(t)},vjs.Slider.prototype.onMouseUp=function(){vjs.unblockTextSelection(),vjs.off(document,"mousemove",this.boundEvents.move,!1),vjs.off(document,"mouseup",this.boundEvents.end,!1),vjs.off(document,"touchmove",this.boundEvents.move,!1),vjs.off(document,"touchend",this.boundEvents.end,!1),this.update()},vjs.Slider.prototype.update=function(){if(this.el_){var t,e=this.getPercent(),s=this.handle,i=this.bar;if(isNaN(e)&&(e=0),t=e,s){var n=this.el_.offsetWidth,o=s.el().offsetWidth,r=o?o/n:0,a=e*(1-r);t=a+r/2,s.el().style.left=vjs.round(100*a,2)+"%"}i.el().style.width=vjs.round(100*t,2)+"%"}},vjs.Slider.prototype.calculateDistance=function(t){var e,s,i,n,o,r,a,l,c;if(e=this.el_,s=vjs.findPosition(e),o=r=e.offsetWidth,a=this.handle,this.options_.vertical){if(n=s.top,c=t.changedTouches?t.changedTouches[0].pageY:t.pageY,a){var u=a.el().offsetHeight;n+=u/2,r-=u}return Math.max(0,Math.min(1,(n-c+r)/r))}if(i=s.left,l=t.changedTouches?t.changedTouches[0].pageX:t.pageX,a){var h=a.el().offsetWidth;i+=h/2,o-=h}return Math.max(0,Math.min(1,(l-i)/o))},vjs.Slider.prototype.onFocus=function(){vjs.on(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onKeyPress=function(t){37==t.which?(t.preventDefault(),this.stepBack()):39==t.which&&(t.preventDefault(),this.stepForward())},vjs.Slider.prototype.onBlur=function(){vjs.off(document,"keyup",vjs.bind(this,this.onKeyPress))},vjs.Slider.prototype.onClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},vjs.SliderHandle=vjs.Component.extend(),vjs.SliderHandle.prototype.defaultValue=0,vjs.SliderHandle.prototype.createEl=function(t,e){return(e=e||{}).className=e.className+" vjs-slider-handle",e=vjs.obj.merge({innerHTML:'<span class="vjs-control-text">'+this.defaultValue+"</span>"},e),vjs.Component.prototype.createEl.call(this,"div",e)},vjs.Menu=vjs.Component.extend(),vjs.Menu.prototype.addItem=function(t){this.addChild(t),t.on("click",vjs.bind(this,function(){this.unlockShowing()}))},vjs.Menu.prototype.createEl=function(){var t=this.options().contentElType||"ul";this.contentEl_=vjs.createEl(t,{className:"vjs-menu-content"});var e=vjs.Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),vjs.on(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},vjs.MenuItem=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.selected(e.selected)}}),vjs.MenuItem.prototype.createEl=function(t,e){return vjs.Button.prototype.createEl.call(this,"li",vjs.obj.merge({className:"vjs-menu-item",innerHTML:this.options_.label},e))},vjs.MenuItem.prototype.onClick=function(){this.selected(!0)},vjs.MenuItem.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},vjs.MenuButton=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),this.menu=this.createMenu(),this.addChild(this.menu),this.items&&0===this.items.length&&this.hide(),this.on("keyup",this.onKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}}),vjs.MenuButton.prototype.buttonPressed_=!1,vjs.MenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_);if(this.options().title&&t.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.options().title),tabindex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},vjs.MenuButton.prototype.createItems=function(){},vjs.MenuButton.prototype.buildCSSClass=function(){return this.className+" vjs-menu-button "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.MenuButton.prototype.onFocus=function(){},vjs.MenuButton.prototype.onBlur=function(){},vjs.MenuButton.prototype.onClick=function(){this.one("mouseout",vjs.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},vjs.MenuButton.prototype.onKeyPress=function(t){t.preventDefault(),32==t.which||13==t.which?this.buttonPressed_?this.unpressButton():this.pressButton():27==t.which&&this.buttonPressed_&&this.unpressButton()},vjs.MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&0<this.items.length&&this.items[0].el().focus()},vjs.MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},vjs.MediaError=function(t){"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"==typeof t&&vjs.obj.merge(this,t),this.message||(this.message=vjs.MediaError.defaultMessages[this.code]||"")},vjs.MediaError.prototype.code=0,vjs.MediaError.prototype.message="",vjs.MediaError.prototype.status=null,vjs.MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],vjs.MediaError.defaultMessages={1:"You aborted the video playback",2:"A network error caused the video download to fail part-way.",3:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",4:"The video could not be loaded, either because the server or network failed or because the format is not supported.",5:"The video is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<vjs.MediaError.errorTypes.length;errNum++)vjs.MediaError[vjs.MediaError.errorTypes[errNum]]=errNum,vjs.MediaError.prototype[vjs.MediaError.errorTypes[errNum]]=errNum;!function(){var t,e,s,i;for(vjs.browser.fullscreenAPI,e=(t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]])[0],i=0;i<t.length;i++)if(t[i][1]in document){s=t[i];break}if(s)for(vjs.browser.fullscreenAPI={},i=0;i<s.length;i++)vjs.browser.fullscreenAPI[e[i]]=s[i]}(),vjs.Player=vjs.Component.extend({init:function(t,e,s){(this.tag=t).id=t.id||"vjs_video_"+vjs.guid++,e=vjs.obj.merge(this.getTagSettings(t),e),this.cache_={},this.poster_=e.poster,this.controls_=e.controls,t.controls=!1,e.reportTouchActivity=!1,vjs.Component.call(this,this,e,s),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),vjs.players[this.id_]=this,e.plugins&&vjs.obj.each(e.plugins,function(t,e){this[t](e)},this),this.listenForUserActivity()}}),vjs.Player.prototype.options_=vjs.options,vjs.Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),vjs.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.stopTrackingProgress(),this.stopTrackingCurrentTime(),this.tech&&this.tech.dispose(),vjs.Component.prototype.dispose.call(this)},vjs.Player.prototype.getTagSettings=function(t){var e,s,i,n,o,r={sources:[],tracks:[]};if(vjs.obj.merge(r,vjs.getAttributeValues(t)),t.hasChildNodes())for(n=0,o=(e=t.childNodes).length;n<o;n++)"source"===(i=(s=e[n]).nodeName.toLowerCase())?r.sources.push(vjs.getAttributeValues(s)):"track"===i&&r.tracks.push(vjs.getAttributeValues(s));return r},vjs.Player.prototype.createEl=function(){var t=this.el_=vjs.Component.prototype.createEl.call(this,"div"),e=this.tag;if(e.removeAttribute("width"),e.removeAttribute("height"),e.hasChildNodes()){var s,i,n,o,r;for(i=(s=e.childNodes).length,r=[];i--;)"track"===(o=s[i]).nodeName.toLowerCase()&&r.push(o);for(n=0;n<r.length;n++)e.removeChild(r[n])}return t.id=e.id,t.className=e.className,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),this.width(this.options_.width,!0),this.height(this.options_.height,!0),e.parentNode&&e.parentNode.insertBefore(t,e),vjs.insertFirst(e,t),this.el_=t,this.on("loadstart",this.onLoadStart),this.on("ended",this.onEnded),this.on("play",this.onPlay),this.on("firstplay",this.onFirstPlay),this.on("pause",this.onPause),this.on("progress",this.onProgress),this.on("durationchange",this.onDurationChange),this.on("fullscreenchange",this.onFullscreenChange),t},vjs.Player.prototype.loadTech=function(t,e){this.tech&&this.unloadTech(),"Html5"!==t&&this.tag&&(vjs.Html5.disposeMediaElement(this.tag),this.tag=null),this.techName=t,this.isReady_=!1;var s=vjs.obj.merge({source:e,parentEl:this.el_},this.options_[t.toLowerCase()]);e&&(e.src==this.cache_.src&&0<this.cache_.currentTime&&(s.startTime=this.cache_.currentTime),this.cache_.src=e.src),this.tech=new window.videojs[t](this,s),this.tech.ready(function(){this.player_.triggerReady(),this.features.progressEvents||this.player_.manualProgressOn(),this.features.timeupdateEvents||this.player_.manualTimeUpdatesOn()})},vjs.Player.prototype.unloadTech=function(){this.isReady_=!1,this.tech.dispose(),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),this.tech=!1},vjs.Player.prototype.manualProgressOn=function(){this.manualProgress=!0,this.trackProgress(),this.tech&&this.tech.one("progress",function(){this.features.progressEvents=!0,this.player_.manualProgressOff()})},vjs.Player.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress()},vjs.Player.prototype.trackProgress=function(){this.progressInterval=setInterval(vjs.bind(this,function(){this.cache_.bufferEnd<this.buffered().end(0)?this.trigger("progress"):1==this.bufferedPercent()&&(this.stopTrackingProgress(),this.trigger("progress"))}),500)},vjs.Player.prototype.stopTrackingProgress=function(){clearInterval(this.progressInterval)},vjs.Player.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.tech&&this.tech.one("timeupdate",function(){this.features.timeupdateEvents=!0,this.player_.manualTimeUpdatesOff()})},vjs.Player.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},vjs.Player.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=setInterval(vjs.bind(this,function(){this.trigger("timeupdate")}),250)},vjs.Player.prototype.stopTrackingCurrentTime=function(){clearInterval(this.currentTimeInterval),this.trigger("timeupdate")},vjs.Player.prototype.onLoadStart=function(){this.error(null),this.paused()?(this.hasStarted(!1),this.one("play",function(){this.hasStarted(!0)})):this.trigger("firstplay")},vjs.Player.prototype.hasStarted_=!1,vjs.Player.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&((this.hasStarted_=t)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):this.hasStarted_},vjs.Player.prototype.onLoadedMetaData,vjs.Player.prototype.onLoadedData,vjs.Player.prototype.onLoadedAllData,vjs.Player.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing")},vjs.Player.prototype.onFirstPlay=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started")},vjs.Player.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused")},vjs.Player.prototype.onTimeUpdate,vjs.Player.prototype.onProgress=function(){1==this.bufferedPercent()&&this.trigger("loadedalldata")},vjs.Player.prototype.onEnded=function(){this.options_.loop&&(this.currentTime(0),this.play())},vjs.Player.prototype.onDurationChange=function(){var t=this.techGet("duration");t&&(t<0&&(t=1/0),this.duration(t),t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"))},vjs.Player.prototype.onVolumeChange,vjs.Player.prototype.onFullscreenChange=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},vjs.Player.prototype.cache_,vjs.Player.prototype.getCache=function(){return this.cache_},vjs.Player.prototype.techCall=function(t,e){if(this.tech&&!this.tech.isReady_)this.tech.ready(function(){this[t](e)});else try{this.tech[t](e)}catch(t){throw vjs.log(t),t}},vjs.Player.prototype.techGet=function(e){if(this.tech&&this.tech.isReady_)try{return this.tech[e]()}catch(t){throw void 0===this.tech[e]?vjs.log("Video.js: "+e+" method not defined for "+this.techName+" playback technology.",t):"TypeError"==t.name?(vjs.log("Video.js: "+e+" unavailable on "+this.techName+" playback technology element.",t),this.tech.isReady_=!1):vjs.log(t),t}},vjs.Player.prototype.play=function(){return this.techCall("play"),this},vjs.Player.prototype.pause=function(){return this.techCall("pause"),this},vjs.Player.prototype.paused=function(){return!1!==this.techGet("paused")},vjs.Player.prototype.currentTime=function(t){return void 0!==t?(this.techCall("setCurrentTime",t),this.manualTimeUpdates&&this.trigger("timeupdate"),this):this.cache_.currentTime=this.techGet("currentTime")||0},vjs.Player.prototype.duration=function(t){return void 0!==t?(this.cache_.duration=parseFloat(t),this):(void 0===this.cache_.duration&&this.onDurationChange(),this.cache_.duration||0)},vjs.Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},vjs.Player.prototype.buffered=function(){var t=this.techGet("buffered"),e=t.length-1,s=this.cache_.bufferEnd=this.cache_.bufferEnd||0;return t&&0<=e&&t.end(e)!==s&&(s=t.end(e),this.cache_.bufferEnd=s),vjs.createTimeRange(0,s)},vjs.Player.prototype.bufferedPercent=function(){return this.duration()?this.buffered().end(0)/this.duration():0},vjs.Player.prototype.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall("setVolume",e),vjs.setLocalStorage("volume",e),this):(e=parseFloat(this.techGet("volume")),isNaN(e)?1:e)},vjs.Player.prototype.muted=function(t){return void 0!==t?(this.techCall("setMuted",t),this):this.techGet("muted")||!1},vjs.Player.prototype.supportsFullScreen=function(){return this.techGet("supportsFullScreen")||!1},vjs.Player.prototype.isFullscreen_=!1,vjs.Player.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):this.isFullscreen_},vjs.Player.prototype.isFullScreen=function(t){return vjs.log.warn('player.isFullScreen() has been deprecated, use player.isFullscreen() with a lowercase "s")'),this.isFullscreen(t)},vjs.Player.prototype.requestFullscreen=function(){var e=vjs.browser.fullscreenAPI;return this.isFullscreen(!0),e?(vjs.on(document,e.fullscreenchange,vjs.bind(this,function(t){this.isFullscreen(document[e.fullscreenElement]),!1===this.isFullscreen()&&vjs.off(document,e.fullscreenchange,arguments.callee),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech.supportsFullScreen()?this.techCall("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.requestFullScreen=function(){return vjs.log.warn('player.requestFullScreen() has been deprecated, use player.requestFullscreen() with a lowercase "s")'),this.requestFullscreen()},vjs.Player.prototype.exitFullscreen=function(){var t=vjs.browser.fullscreenAPI;return this.isFullscreen(!1),t?document[t.exitFullscreen]():this.tech.supportsFullScreen()?this.techCall("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},vjs.Player.prototype.cancelFullScreen=function(){return vjs.log.warn("player.cancelFullScreen() has been deprecated, use player.exitFullscreen()"),this.exitFullscreen()},vjs.Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,vjs.on(document,"keydown",vjs.bind(this,this.fullWindowOnEscKey)),document.documentElement.style.overflow="hidden",vjs.addClass(document.body,"vjs-full-window"),this.trigger("enterFullWindow")},vjs.Player.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},vjs.Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,vjs.off(document,"keydown",this.fullWindowOnEscKey),document.documentElement.style.overflow=this.docOrigOverflow,vjs.removeClass(document.body,"vjs-full-window"),this.trigger("exitFullWindow")},vjs.Player.prototype.selectSource=function(t){for(var e=0,s=this.options_.techOrder;e<s.length;e++){var i=vjs.capitalize(s[e]),n=window.videojs[i];if(n){if(n.isSupported())for(var o=0,r=t;o<r.length;o++){var a=r[o];if(n.canPlaySource(a))return{source:a,tech:i}}}else vjs.log.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return!1},vjs.Player.prototype.src=function(t){if(void 0===t)return this.techGet("src");if(t instanceof Array){var e,s=this.selectSource(t);s?(t=s.source,(e=s.tech)==this.techName?this.src(t):this.loadTech(e,t)):(this.error({code:4,message:this.options().notSupportedMessage}),this.triggerReady())}else t instanceof Object?window.videojs[this.techName].canPlaySource(t)?this.src(t.src):this.src([t]):(this.cache_.src=t,this.isReady_?(this.techCall("src",t),"auto"==this.options_.preload&&this.load(),this.options_.autoplay&&this.play()):this.ready(function(){this.src(t)}));return this},vjs.Player.prototype.load=function(){return this.techCall("load"),this},vjs.Player.prototype.currentSrc=function(){return this.techGet("currentSrc")||this.cache_.src||""},vjs.Player.prototype.preload=function(t){return void 0!==t?(this.techCall("setPreload",t),this.options_.preload=t,this):this.techGet("preload")},vjs.Player.prototype.autoplay=function(t){return void 0!==t?(this.techCall("setAutoplay",t),this.options_.autoplay=t,this):this.techGet("autoplay",t)},vjs.Player.prototype.loop=function(t){return void 0!==t?(this.techCall("setLoop",t),this.options_.loop=t,this):this.techGet("loop")},vjs.Player.prototype.poster_,vjs.Player.prototype.poster=function(t){if(void 0===t)return this.poster_;this.poster_=t,this.techCall("setPoster",t),this.trigger("posterchange")},vjs.Player.prototype.controls_,vjs.Player.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&((this.controls_=t)?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled")):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"))),this):this.controls_},vjs.Player.prototype.usingNativeControls_,vjs.Player.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&((this.usingNativeControls_=t)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):this.usingNativeControls_},vjs.Player.prototype.error_=null,vjs.Player.prototype.error=function(t){return void 0===t?this.error_:(null===t?(this.error_=t,this.removeClass("vjs-error")):(t instanceof vjs.MediaError?this.error_=t:this.error_=new vjs.MediaError(t),this.trigger("error"),this.addClass("vjs-error"),vjs.log.error("(CODE:"+this.error_.code+" "+vjs.MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_)),this)},vjs.Player.prototype.ended=function(){return this.techGet("ended")},vjs.Player.prototype.seeking=function(){return this.techGet("seeking")},vjs.Player.prototype.userActivity_=!0,vjs.Player.prototype.reportUserActivity=function(t){this.userActivity_=!0},vjs.Player.prototype.userActive_=!0,vjs.Player.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.userActive_&&((this.userActive_=t)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech&&this.tech.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},vjs.Player.prototype.listenForUserActivity=function(){var e,t,s,i,n,o,r,a,l;e=vjs.bind(this,this.reportUserActivity),t=function(t){t.screenX==a&&t.screenY==l||(a=t.screenX,l=t.screenY,e())},s=function(){e(),clearInterval(i),i=setInterval(e,250)},n=function(t){e(),clearInterval(i)},this.on("mousedown",s),this.on("mousemove",t),this.on("mouseup",n),this.on("keydown",e),this.on("keyup",e),o=setInterval(vjs.bind(this,function(){this.userActivity_&&(this.userActivity_=!1,this.userActive(!0),clearTimeout(r),r=setTimeout(vjs.bind(this,function(){this.userActivity_||this.userActive(!1)}),2e3))}),250),this.on("dispose",function(){clearInterval(o),clearTimeout(r)})},vjs.Player.prototype.playbackRate=function(t){return void 0!==t?(this.techCall("setPlaybackRate",t),this):this.tech&&this.tech.features&&this.tech.features.playbackRate?this.techGet("playbackRate"):1},vjs.ControlBar=vjs.Component.extend(),vjs.ControlBar.prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},volumeControl:{},muteToggle:{},playbackRateMenuButton:{}}},vjs.ControlBar.prototype.createEl=function(){return vjs.createEl("div",{className:"vjs-control-bar"})},vjs.LiveDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.LiveDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-live-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">Stream Type </span>LIVE',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.PlayToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("play",vjs.bind(this,this.onPlay)),t.on("pause",vjs.bind(this,this.onPause))}}),vjs.PlayToggle.prototype.buttonText="Play",vjs.PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.PlayToggle.prototype.onClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},vjs.PlayToggle.prototype.onPlay=function(){vjs.removeClass(this.el_,"vjs-paused"),vjs.addClass(this.el_,"vjs-playing"),this.el_.children[0].children[0].innerHTML="Pause"},vjs.PlayToggle.prototype.onPause=function(){vjs.removeClass(this.el_,"vjs-playing"),vjs.addClass(this.el_,"vjs-paused"),this.el_.children[0].children[0].innerHTML="Play"},vjs.CurrentTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.CurrentTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.CurrentTimeDisplay.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.contentEl_.innerHTML='<span class="vjs-control-text">Current Time </span>'+vjs.formatTime(t,this.player_.duration())},vjs.DurationDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.DurationDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">Duration Time </span>0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.DurationDisplay.prototype.updateContent=function(){var t=this.player_.duration();t&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Duration Time </span>'+vjs.formatTime(t))},vjs.TimeDivider=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.TimeDivider.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},vjs.RemainingTimeDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.RemainingTimeDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-controls vjs-control"});return this.contentEl_=vjs.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">Remaining Time </span>-0:00',"aria-live":"off"}),t.appendChild(this.contentEl_),t},vjs.RemainingTimeDisplay.prototype.updateContent=function(){this.player_.duration()&&(this.contentEl_.innerHTML='<span class="vjs-control-text">Remaining Time </span>-'+vjs.formatTime(this.player_.remainingTime()))},vjs.FullscreenToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e)}}),vjs.FullscreenToggle.prototype.buttonText="Fullscreen",vjs.FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+vjs.Button.prototype.buildCSSClass.call(this)},vjs.FullscreenToggle.prototype.onClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText_.innerHTML="Fullscreen"):(this.player_.requestFullscreen(),this.controlText_.innerHTML="Non-Fullscreen")},vjs.ProgressControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.ProgressControl.prototype.options_={children:{seekBar:{}}},vjs.ProgressControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},vjs.SeekBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.SeekBar.prototype.options_={children:{loadProgressBar:{},playProgressBar:{},seekHandle:{}},barName:"playProgressBar",handleName:"seekHandle"},vjs.SeekBar.prototype.playerEvent="timeupdate",vjs.SeekBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder","aria-label":"video progress bar"})},vjs.SeekBar.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",vjs.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",vjs.formatTime(t,this.player_.duration()))},vjs.SeekBar.prototype.getPercent=function(){return this.player_.currentTime()/this.player_.duration()},vjs.SeekBar.prototype.onMouseDown=function(t){vjs.Slider.prototype.onMouseDown.call(this,t),this.player_.scrubbing=!0,this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},vjs.SeekBar.prototype.onMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e==this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},vjs.SeekBar.prototype.onMouseUp=function(t){vjs.Slider.prototype.onMouseUp.call(this,t),this.player_.scrubbing=!1,this.videoWasPlaying&&this.player_.play()},vjs.SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},vjs.SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},vjs.LoadProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("progress",vjs.bind(this,this.update))}}),vjs.LoadProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text">Loaded: 0%</span>'})},vjs.LoadProgressBar.prototype.update=function(){this.el_.style&&(this.el_.style.width=vjs.round(100*this.player_.bufferedPercent(),2)+"%")},vjs.PlayProgressBar=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.PlayProgressBar.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress",innerHTML:'<span class="vjs-control-text">Progress: 0%</span>'})},vjs.SeekHandle=vjs.SliderHandle.extend({init:function(t,e){vjs.SliderHandle.call(this,t,e),t.on("timeupdate",vjs.bind(this,this.updateContent))}}),vjs.SeekHandle.prototype.defaultValue="00:00",vjs.SeekHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-seek-handle","aria-live":"off"})},vjs.SeekHandle.prototype.updateContent=function(){var t=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.innerHTML='<span class="vjs-control-text">'+vjs.formatTime(t,this.player_.duration())+"</span>"},vjs.VolumeControl=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.VolumeControl.prototype.options_={children:{volumeBar:{}}},vjs.VolumeControl.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},vjs.VolumeBar=vjs.Slider.extend({init:function(t,e){vjs.Slider.call(this,t,e),t.on("volumechange",vjs.bind(this,this.updateARIAAttributes)),t.ready(vjs.bind(this,this.updateARIAAttributes))}}),vjs.VolumeBar.prototype.updateARIAAttributes=function(){this.el_.setAttribute("aria-valuenow",vjs.round(100*this.player_.volume(),2)),this.el_.setAttribute("aria-valuetext",vjs.round(100*this.player_.volume(),2)+"%")},vjs.VolumeBar.prototype.options_={children:{volumeLevel:{},volumeHandle:{}},barName:"volumeLevel",handleName:"volumeHandle"},vjs.VolumeBar.prototype.playerEvent="volumechange",vjs.VolumeBar.prototype.createEl=function(){return vjs.Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar","aria-label":"volume level"})},vjs.VolumeBar.prototype.onMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},vjs.VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},vjs.VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},vjs.VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},vjs.VolumeLevel=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e)}}),vjs.VolumeLevel.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},vjs.VolumeHandle=vjs.SliderHandle.extend(),vjs.VolumeHandle.prototype.defaultValue="00:00",vjs.VolumeHandle.prototype.createEl=function(){return vjs.SliderHandle.prototype.createEl.call(this,"div",{className:"vjs-volume-handle"})},vjs.MuteToggle=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}))}}),vjs.MuteToggle.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-mute-control vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.MuteToggle.prototype.onClick=function(){this.player_.muted(!this.player_.muted())},vjs.MuteToggle.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2),this.player_.muted()?"Unmute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Unmute"):"Mute"!=this.el_.children[0].children[0].innerHTML&&(this.el_.children[0].children[0].innerHTML="Mute");for(var s=0;s<4;s++)vjs.removeClass(this.el_,"vjs-vol-"+s);vjs.addClass(this.el_,"vjs-vol-"+e)},vjs.VolumeMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),t.on("volumechange",vjs.bind(this,this.update)),t.tech&&t.tech.features&&!1===t.tech.features.volumeControl&&this.addClass("vjs-hidden"),t.on("loadstart",vjs.bind(this,function(){t.tech.features&&!1===t.tech.features.volumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})),this.addClass("vjs-menu-button")}}),vjs.VolumeMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player_,{contentElType:"div"}),e=new vjs.VolumeBar(this.player_,vjs.obj.merge({vertical:!0},this.options_.volumeBar));return t.addChild(e),t},vjs.VolumeMenuButton.prototype.onClick=function(){vjs.MuteToggle.prototype.onClick.call(this),vjs.MenuButton.prototype.onClick.call(this)},vjs.VolumeMenuButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-volume-menu-button vjs-menu-button vjs-control",innerHTML:'<div><span class="vjs-control-text">Mute</span></div>'})},vjs.VolumeMenuButton.prototype.update=vjs.MuteToggle.prototype.update,vjs.PlaybackRateMenuButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.updateVisibility(),this.updateLabel(),t.on("loadstart",vjs.bind(this,this.updateVisibility)),t.on("ratechange",vjs.bind(this,this.updateLabel))}}),vjs.PlaybackRateMenuButton.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-playback-rate vjs-menu-button vjs-control",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">Playback Rate</span></div>'});return this.labelEl_=vjs.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},vjs.PlaybackRateMenuButton.prototype.createMenu=function(){var t=new vjs.Menu(this.player()),e=this.player().options().playbackRates;if(e)for(var s=e.length-1;0<=s;s--)t.addChild(new vjs.PlaybackRateMenuItem(this.player(),{rate:e[s]+"x"}));return t},vjs.PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},vjs.PlaybackRateMenuButton.prototype.onClick=function(){for(var t=this.player().playbackRate(),e=this.player().options().playbackRates,s=e[0],i=0;i<e.length;i++)if(e[i]>t){s=e[i];break}this.player().playbackRate(s)},vjs.PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech&&this.player().tech.features.playbackRate&&this.player().options().playbackRates&&0<this.player().options().playbackRates.length},vjs.PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},vjs.PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},vjs.PlaybackRateMenuItem=vjs.MenuItem.extend({contentElType:"button",init:function(t,e){var s=this.label=e.rate,i=this.rate=parseFloat(s,10);e.label=s,e.selected=1===i,vjs.MenuItem.call(this,t,e),this.player().on("ratechange",vjs.bind(this,this.update))}}),vjs.PlaybackRateMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player().playbackRate(this.rate)},vjs.PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()==this.rate)},vjs.PosterImage=vjs.Button.extend({init:function(t,e){vjs.Button.call(this,t,e),t.poster()&&this.src(t.poster()),t.poster()&&t.controls()||this.hide(),t.on("posterchange",vjs.bind(this,function(){this.src(t.poster())})),t.on("play",vjs.bind(this,this.hide))}});var _backgroundSizeSupported="backgroundSize"in vjs.TEST_VID.style,Xl,Yl,Zl;vjs.PosterImage.prototype.createEl=function(){var t=vjs.createEl("div",{className:"vjs-poster",tabIndex:-1});return _backgroundSizeSupported||t.appendChild(vjs.createEl("img")),t},vjs.PosterImage.prototype.src=function(t){var e=this.el();void 0!==t&&(_backgroundSizeSupported?e.style.backgroundImage='url("'+t+'")':e.firstChild.src=t)},vjs.PosterImage.prototype.onClick=function(){this.player().controls()&&this.player_.play()},vjs.LoadingSpinner=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),t.on("canplay",vjs.bind(this,this.hide)),t.on("canplaythrough",vjs.bind(this,this.hide)),t.on("playing",vjs.bind(this,this.hide)),t.on("seeking",vjs.bind(this,this.show)),t.on("seeked",vjs.bind(this,this.hide)),t.on("ended",vjs.bind(this,this.hide)),t.on("waiting",vjs.bind(this,this.show))}}),vjs.LoadingSpinner.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},vjs.BigPlayButton=vjs.Button.extend(),vjs.BigPlayButton.prototype.createEl=function(){return vjs.Button.prototype.createEl.call(this,"div",{className:"vjs-big-play-button",innerHTML:'<span aria-hidden="true"></span>',"aria-label":"play video"})},vjs.BigPlayButton.prototype.onClick=function(){this.player_.play()},vjs.ErrorDisplay=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.update(),t.on("error",vjs.bind(this,this.update))}}),vjs.ErrorDisplay.prototype.createEl=function(){var t=vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=vjs.createEl("div"),t.appendChild(this.contentEl_),t},vjs.ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.player().error().message)},vjs.MediaTechController=vjs.Component.extend({init:function(t,e,s){(e=e||{}).reportTouchActivity=!1,vjs.Component.call(this,t,e,s),this.initControlsListeners()}}),vjs.MediaTechController.prototype.initControlsListeners=function(){var t,e,s;t=(e=this).player();function i(){t.controls()&&!t.usingNativeControls()&&e.addControlsListeners()}s=vjs.bind(e,e.removeControlsListeners),this.ready(i),t.on("controlsenabled",i),t.on("controlsdisabled",s),this.ready(function(){this.networkState&&0<this.networkState()&&this.player().trigger("loadstart")})},vjs.MediaTechController.prototype.addControlsListeners=function(){var e;this.on("mousedown",this.onClick),this.on("touchstart",function(t){t.preventDefault(),e=this.player_.userActive()}),this.on("touchmove",function(t){e&&this.player().reportUserActivity()}),this.emitTapEvents(),this.on("tap",this.onTap)},vjs.MediaTechController.prototype.removeControlsListeners=function(){this.off("tap"),this.off("touchstart"),this.off("touchmove"),this.off("touchleave"),this.off("touchcancel"),this.off("touchend"),this.off("click"),this.off("mousedown")},vjs.MediaTechController.prototype.onClick=function(t){0===t.button&&this.player().controls()&&(this.player().paused()?this.player().play():this.player().pause())},vjs.MediaTechController.prototype.onTap=function(){this.player().userActive(!this.player().userActive())},vjs.MediaTechController.prototype.setPoster=function(){},vjs.MediaTechController.prototype.features={volumeControl:!0,fullscreenResize:!1,playbackRate:!1,progressEvents:!1,timeupdateEvents:!1},vjs.media={},vjs.Html5=vjs.MediaTechController.extend({init:function(t,e,s){this.features.volumeControl=vjs.Html5.canControlVolume(),this.features.playbackRate=vjs.Html5.canControlPlaybackRate(),this.features.movingMediaElementInDOM=!vjs.IS_IOS,this.features.fullscreenResize=!0,vjs.MediaTechController.call(this,t,e,s),this.setupTriggers();var i=e.source;i&&this.el_.currentSrc!==i.src&&(this.el_.src=i.src),vjs.TOUCH_ENABLED&&!1!==t.options().nativeControlsForTouch&&this.useNativeControls(),t.ready(function(){this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())}),this.triggerReady()}}),vjs.Html5.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Html5.prototype.createEl=function(){var t,e=this.player_,s=e.tag;s&&!1!==this.features.movingMediaElementInDOM||(s?(t=s.cloneNode(!1),vjs.Html5.disposeMediaElement(s),s=t,e.tag=null):s=vjs.createEl("video",{id:e.id()+"_html5_api",className:"vjs-tech"}),s.player=e,vjs.insertFirst(s,e.el()));for(var i=["autoplay","preload","loop","muted"],n=i.length-1;0<=n;n--){var o=i[n];null!==e.options_[o]&&(s[o]=e.options_[o])}return s},vjs.Html5.prototype.setupTriggers=function(){for(var t=vjs.Html5.Events.length-1;0<=t;t--)vjs.on(this.el_,vjs.Html5.Events[t],vjs.bind(this,this.eventHandler))},vjs.Html5.prototype.eventHandler=function(t){"error"==t.type?this.player().error(this.error().code):(t.bubbles=!1,this.player().trigger(t))},vjs.Html5.prototype.useNativeControls=function(){var t,e,s,i,n;e=(t=this).player(),t.setControls(e.controls()),s=function(){t.setControls(!0)},i=function(){t.setControls(!1)},e.on("controlsenabled",s),e.on("controlsdisabled",i),n=function(){e.off("controlsenabled",s),e.off("controlsdisabled",i)},t.on("dispose",n),e.on("usingcustomcontrols",n),e.usingNativeControls(!0)},vjs.Html5.prototype.play=function(){this.el_.play()},vjs.Html5.prototype.pause=function(){this.el_.pause()},vjs.Html5.prototype.paused=function(){return this.el_.paused},vjs.Html5.prototype.currentTime=function(){return this.el_.currentTime},vjs.Html5.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){vjs.log(t,"Video is not ready. (Video.js)")}},vjs.Html5.prototype.duration=function(){return this.el_.duration||0},vjs.Html5.prototype.buffered=function(){return this.el_.buffered},vjs.Html5.prototype.volume=function(){return this.el_.volume},vjs.Html5.prototype.setVolume=function(t){this.el_.volume=t},vjs.Html5.prototype.muted=function(){return this.el_.muted},vjs.Html5.prototype.setMuted=function(t){this.el_.muted=t},vjs.Html5.prototype.width=function(){return this.el_.offsetWidth},vjs.Html5.prototype.height=function(){return this.el_.offsetHeight},vjs.Html5.prototype.supportsFullScreen=function(){return!("function"!=typeof this.el_.webkitEnterFullScreen||!/Android/.test(vjs.USER_AGENT)&&/Chrome|Mac OS X 10.5/.test(vjs.USER_AGENT))},vjs.Html5.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},vjs.Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},vjs.Html5.prototype.src=function(t){this.el_.src=t},vjs.Html5.prototype.load=function(){this.el_.load()},vjs.Html5.prototype.currentSrc=function(){return this.el_.currentSrc},vjs.Html5.prototype.poster=function(){return this.el_.poster},vjs.Html5.prototype.setPoster=function(t){this.el_.poster=t},vjs.Html5.prototype.preload=function(){return this.el_.preload},vjs.Html5.prototype.setPreload=function(t){this.el_.preload=t},vjs.Html5.prototype.autoplay=function(){return this.el_.autoplay},vjs.Html5.prototype.setAutoplay=function(t){this.el_.autoplay=t},vjs.Html5.prototype.controls=function(){return this.el_.controls},vjs.Html5.prototype.setControls=function(t){this.el_.controls=!!t},vjs.Html5.prototype.loop=function(){return this.el_.loop},vjs.Html5.prototype.setLoop=function(t){this.el_.loop=t},vjs.Html5.prototype.error=function(){return this.el_.error},vjs.Html5.prototype.seeking=function(){return this.el_.seeking},vjs.Html5.prototype.ended=function(){return this.el_.ended},vjs.Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},vjs.Html5.prototype.playbackRate=function(){return this.el_.playbackRate},vjs.Html5.prototype.setPlaybackRate=function(t){this.el_.playbackRate=t},vjs.Html5.prototype.networkState=function(){return this.el_.networkState},vjs.Html5.isSupported=function(){try{vjs.TEST_VID.volume=.5}catch(t){return!1}return!!vjs.TEST_VID.canPlayType},vjs.Html5.canPlaySource=function(t){try{return!!vjs.TEST_VID.canPlayType(t.type)}catch(t){return""}},vjs.Html5.canControlVolume=function(){var t=vjs.TEST_VID.volume;return vjs.TEST_VID.volume=t/2+.1,t!==vjs.TEST_VID.volume},vjs.Html5.canControlPlaybackRate=function(){var t=vjs.TEST_VID.playbackRate;return vjs.TEST_VID.playbackRate=t/2+.1,t!==vjs.TEST_VID.playbackRate},Yl=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Zl=/^video\/mp4/i,vjs.Html5.patchCanPlayType=function(){4<=vjs.ANDROID_VERSION&&(Xl=Xl||vjs.TEST_VID.constructor.prototype.canPlayType,vjs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Yl.test(t)?"maybe":Xl.call(this,t)}),vjs.IS_OLD_ANDROID&&(Xl=Xl||vjs.TEST_VID.constructor.prototype.canPlayType,vjs.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Zl.test(t)?"maybe":Xl.call(this,t)})},vjs.Html5.unpatchCanPlayType=function(){var t=vjs.TEST_VID.constructor.prototype.canPlayType;return vjs.TEST_VID.constructor.prototype.canPlayType=Xl,Xl=null,t},vjs.Html5.patchCanPlayType(),vjs.Html5.Events="loadstart,suspend,abort,error,emptied,stalled,loadedmetadata,loadeddata,canplay,canplaythrough,playing,waiting,seeking,seeked,ended,durationchange,timeupdate,progress,play,pause,ratechange,volumechange".split(","),vjs.Html5.disposeMediaElement=function(t){if(t){for(t.player=null,t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},vjs.Flash=vjs.MediaTechController.extend({init:function(t,e,s){vjs.MediaTechController.call(this,t,e,s);var i,n=e.source,o=e.parentEl,r=this.el_=vjs.createEl("div",{id:t.id()+"_temp_flash"}),a=t.id()+"_flash_api",l=t.options_,c=vjs.obj.merge({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:l.autoplay,preload:l.preload,loop:l.loop,muted:l.muted},e.flashVars),u=vjs.obj.merge({wmode:"opaque",bgcolor:"#000000"},e.params),h=vjs.obj.merge({id:a,name:a,class:"vjs-tech"},e.attributes);if(n)if(n.type&&vjs.Flash.isStreamingType(n.type)){var d=vjs.Flash.streamToParts(n.src);c.rtmpConnection=encodeURIComponent(d.connection),c.rtmpStream=encodeURIComponent(d.stream)}else c.src=encodeURIComponent(vjs.getAbsoluteURL(n.src));if(this.setCurrentTime=function(t){i=t,this.el_.vjs_setProperty("currentTime",t)},this.currentTime=function(t){return this.seeking()?i:this.el_.vjs_getProperty("currentTime")},vjs.insertFirst(r,o),e.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(e.startTime)}),vjs.IS_FIREFOX&&this.ready(function(){vjs.on(this.el(),"mousemove",vjs.bind(this,function(){this.player().trigger({type:"mousemove",bubbles:!1})}))}),!0!==e.iFrameMode||vjs.IS_FIREFOX)vjs.Flash.embed(e.swf,r,c,u,h);else{var p=vjs.createEl("iframe",{id:a+"_iframe",name:a+"_iframe",className:"vjs-tech",scrolling:"no",marginWidth:0,marginHeight:0,style:"border: 0"});c.readyFunction="ready",c.eventProxyFunction="events",c.errorEventProxyFunction="errors",vjs.on(p,"load",vjs.bind(this,function(){var i,t=p.contentWindow;(i=p.contentDocument?p.contentDocument:p.contentWindow.document).write(vjs.Flash.getEmbedCode(e.swf,c,u,h)),t.player=this.player_,t.ready=vjs.bind(this.player_,function(t){var e=i.getElementById(t),s=this.tech;s.el_=e,vjs.Flash.checkReady(s)}),t.events=vjs.bind(this.player_,function(t,e){this&&"flash"===this.techName&&this.trigger(e)}),t.errors=vjs.bind(this.player_,function(t,e){vjs.log("Flash Error",e)})})),r.parentNode.replaceChild(p,r)}}}),vjs.Flash.prototype.dispose=function(){vjs.MediaTechController.prototype.dispose.call(this)},vjs.Flash.prototype.play=function(){this.el_.vjs_play()},vjs.Flash.prototype.pause=function(){this.el_.vjs_pause()},vjs.Flash.prototype.src=function(t){if(void 0===t)return this.currentSrc();if(vjs.Flash.isStreamingSrc(t)?(t=vjs.Flash.streamToParts(t),this.setRtmpConnection(t.connection),this.setRtmpStream(t.stream)):(t=vjs.getAbsoluteURL(t),this.el_.vjs_src(t)),this.player_.autoplay()){var e=this;setTimeout(function(){e.play()},0)}},vjs.Flash.prototype.currentSrc=function(){var t=this.el_.vjs_getProperty("currentSrc");if(null==t){var e=this.rtmpConnection(),s=this.rtmpStream();e&&s&&(t=vjs.Flash.streamFromParts(e,s))}return t},vjs.Flash.prototype.load=function(){this.el_.vjs_load()},vjs.Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},vjs.Flash.prototype.setPoster=function(){},vjs.Flash.prototype.buffered=function(){return vjs.createTimeRange(0,this.el_.vjs_getProperty("buffered"))},vjs.Flash.prototype.supportsFullScreen=function(){return!1},vjs.Flash.prototype.enterFullScreen=function(){return!1};var api=vjs.Flash.prototype,readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),readOnly="error,networkState,readyState,seeking,initialTime,duration,startOffsetTime,paused,played,seekable,ended,videoTracks,audioTracks,videoWidth,videoHeight,textTracks".split(","),createSetter=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);api["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}},createGetter=function(t){api[t]=function(){return this.el_.vjs_getProperty(t)}},Sr,Tr,mx;if(function(){var t;for(t=0;t<readWrite.length;t++)createGetter(readWrite[t]),createSetter(readWrite[t]);for(t=0;t<readOnly.length;t++)createGetter(readOnly[t])}(),vjs.Flash.isSupported=function(){return 10<=vjs.Flash.version()[0]},vjs.Flash.canPlaySource=function(t){var e;return t.type?(e=t.type.replace(/;.*/,"").toLowerCase())in vjs.Flash.formats||e in vjs.Flash.streamingFormats?"maybe":void 0:""},vjs.Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},vjs.Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},vjs.Flash.onReady=function(t){var e=vjs.el(t),s=e.player||e.parentNode.player,i=s.tech;e.player=s,i.el_=e,vjs.Flash.checkReady(i)},vjs.Flash.checkReady=function(t){t.el().vjs_getProperty?t.triggerReady():setTimeout(function(){vjs.Flash.checkReady(t)},50)},vjs.Flash.onEvent=function(t,e){vjs.el(t).player.trigger(e)},vjs.Flash.onError=function(t,e){var s=vjs.el(t).player,i="FLASH: "+e;"srcnotfound"==e?s.error({code:4,message:i}):s.error(i)},vjs.Flash.version=function(){var e="0,0,0";try{e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return e.split(",")},vjs.Flash.embed=function(t,e,s,i,n){var o=vjs.Flash.getEmbedCode(t,s,i,n),r=vjs.createEl("div",{innerHTML:o}).childNodes[0],a=e.parentNode;e.parentNode.replaceChild(r,e);var l=a.childNodes[0];return setTimeout(function(){l.style.display="block"},1e3),r},vjs.Flash.getEmbedCode=function(t,e,s,i){var n="",o="",r="";return e&&vjs.obj.each(e,function(t,e){n+=t+"="+e+"&amp;"}),s=vjs.obj.merge({movie:t,flashvars:n,allowScriptAccess:"always",allowNetworking:"all"},s),vjs.obj.each(s,function(t,e){o+='<param name="'+t+'" value="'+e+'" />'}),i=vjs.obj.merge({data:t,width:"100%",height:"100%"},i),vjs.obj.each(i,function(t,e){r+=t+'="'+e+'" '}),'<object type="application/x-shockwave-flash"'+r+">"+o+"</object>"},vjs.Flash.streamFromParts=function(t,e){return t+"&"+e},vjs.Flash.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var s,i=t.indexOf("&");return-1!==i?s=i+1:0===(i=s=t.lastIndexOf("/")+1)&&(i=s=t.length),e.connection=t.substring(0,i),e.stream=t.substring(s,t.length),e},vjs.Flash.isStreamingType=function(t){return t in vjs.Flash.streamingFormats},vjs.Flash.RTMP_RE=/^rtmp[set]?:\/\//i,vjs.Flash.isStreamingSrc=function(t){return vjs.Flash.RTMP_RE.test(t)},vjs.MediaLoader=vjs.Component.extend({init:function(t,e,s){if(vjs.Component.call(this,t,e,s),t.options_.sources&&0!==t.options_.sources.length)t.src(t.options_.sources);else for(var i=0,n=t.options_.techOrder;i<n.length;i++){var o=vjs.capitalize(n[i]),r=window.videojs[o];if(r&&r.isSupported()){t.loadTech(o);break}}}}),vjs.Player.prototype.textTracks_,vjs.Player.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||[],this.textTracks_},vjs.Player.prototype.addTextTrack=function(t,e,s,i){var n=this.textTracks_=this.textTracks_||[];(i=i||{}).kind=t,i.label=e,i.language=s;var o=vjs.capitalize(t||"subtitles"),r=new window.videojs[o+"Track"](this,i);return n.push(r),r.dflt()&&this.ready(function(){setTimeout(function(){r.show()},0)}),r},vjs.Player.prototype.addTextTracks=function(t){for(var e,s=0;s<t.length;s++)e=t[s],this.addTextTrack(e.kind,e.label,e.language,e);return this},vjs.Player.prototype.showTextTrack=function(t,e){for(var s,i,n,o=this.textTracks_,r=0,a=o.length;r<a;r++)(s=o[r]).id()===t?(s.show(),i=s):e&&s.kind()==e&&0<s.mode()&&s.disable();return(n=i?i.kind():e||!1)&&this.trigger(n+"trackchange"),this},vjs.TextTrack=vjs.Component.extend({init:function(t,e){vjs.Component.call(this,t,e),this.id_=e.id||"vjs_"+e.kind+"_"+e.language+"_"+vjs.guid++,this.src_=e.src,this.dflt_=e.default||e.dflt,this.title_=e.title,this.language_=e.srclang,this.label_=e.label,this.cues_=[],this.activeCues_=[],this.readyState_=0,this.mode_=0,this.player_.on("fullscreenchange",vjs.bind(this,this.adjustFontSize))}}),vjs.TextTrack.prototype.kind_,vjs.TextTrack.prototype.kind=function(){return this.kind_},vjs.TextTrack.prototype.src_,vjs.TextTrack.prototype.src=function(){return this.src_},vjs.TextTrack.prototype.dflt_,vjs.TextTrack.prototype.dflt=function(){return this.dflt_},vjs.TextTrack.prototype.title_,vjs.TextTrack.prototype.title=function(){return this.title_},vjs.TextTrack.prototype.language_,vjs.TextTrack.prototype.language=function(){return this.language_},vjs.TextTrack.prototype.label_,vjs.TextTrack.prototype.label=function(){return this.label_},vjs.TextTrack.prototype.cues_,vjs.TextTrack.prototype.cues=function(){return this.cues_},vjs.TextTrack.prototype.activeCues_,vjs.TextTrack.prototype.activeCues=function(){return this.activeCues_},vjs.TextTrack.prototype.readyState_,vjs.TextTrack.prototype.readyState=function(){return this.readyState_},vjs.TextTrack.prototype.mode_,vjs.TextTrack.prototype.mode=function(){return this.mode_},vjs.TextTrack.prototype.adjustFontSize=function(){this.player_.isFullScreen()?this.el_.style.fontSize=screen.width/this.player_.width()*1.4*100+"%":this.el_.style.fontSize=""},vjs.TextTrack.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-"+this.kind_+" vjs-text-track"})},vjs.TextTrack.prototype.show=function(){this.activate(),this.mode_=2,vjs.Component.prototype.show.call(this)},vjs.TextTrack.prototype.hide=function(){this.activate(),this.mode_=1,vjs.Component.prototype.hide.call(this)},vjs.TextTrack.prototype.disable=function(){2==this.mode_&&this.hide(),this.deactivate(),this.mode_=0},vjs.TextTrack.prototype.activate=function(){0===this.readyState_&&this.load(),0===this.mode_&&(this.player_.on("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.on("ended",vjs.bind(this,this.reset,this.id_)),"captions"!==this.kind_&&"subtitles"!==this.kind_||this.player_.getChild("textTrackDisplay").addChild(this))},vjs.TextTrack.prototype.deactivate=function(){this.player_.off("timeupdate",vjs.bind(this,this.update,this.id_)),this.player_.off("ended",vjs.bind(this,this.reset,this.id_)),this.reset(),this.player_.getChild("textTrackDisplay").removeChild(this)},vjs.TextTrack.prototype.load=function(){0===this.readyState_&&(this.readyState_=1,vjs.get(this.src_,vjs.bind(this,this.parseCues),vjs.bind(this,this.onError)))},vjs.TextTrack.prototype.onError=function(t){this.error=t,this.readyState_=3,this.trigger("error")},vjs.TextTrack.prototype.parseCues=function(t){for(var e,s,i,n,o=t.split("\n"),r="",a=1,l=o.length;a<l;a++)if(r=vjs.trim(o[a])){for(-1==r.indexOf("--\x3e")?(n=r,r=vjs.trim(o[++a])):n=this.cues_.length,e={id:n,index:this.cues_.length},s=r.split(" --\x3e "),e.startTime=this.parseCueTime(s[0]),e.endTime=this.parseCueTime(s[1]),i=[];o[++a]&&(r=vjs.trim(o[a]));)i.push(r);e.text=i.join("<br/>"),this.cues_.push(e)}this.readyState_=2,this.trigger("loaded")},vjs.TextTrack.prototype.parseCueTime=function(t){var e,s,i,n,o=t.split(":"),r=0;return i=(i=(3==o.length?(e=o[0],s=o[1],o[2]):(s=o[e=0],o[1])).split(/\s+/).splice(0,1)[0]).split(/\.|,/),n=parseFloat(i[1]),i=i[0],r+=3600*parseFloat(e),r+=60*parseFloat(s),r+=parseFloat(i),n&&(r+=n/1e3),r},vjs.TextTrack.prototype.update=function(){if(0<this.cues_.length){var t=this.player_.options().trackTimeOffset||0,e=this.player_.currentTime()+t;if(void 0===this.prevChange||e<this.prevChange||this.nextChange<=e){var s,i,n,o,r=this.cues_,a=this.player_.duration(),l=0,c=!1,u=[];for(o=e>=this.nextChange||void 0===this.nextChange?void 0!==this.firstActiveIndex?this.firstActiveIndex:0:(c=!0,void 0!==this.lastActiveIndex?this.lastActiveIndex:r.length-1);;){if((n=r[o]).endTime<=e)l=Math.max(l,n.endTime),n.active&&(n.active=!1);else if(e<n.startTime){if(a=Math.min(a,n.startTime),n.active&&(n.active=!1),!c)break}else c?(u.splice(0,0,n),void 0===i&&(i=o),s=o):(u.push(n),void 0===s&&(s=o),i=o),a=Math.min(a,n.endTime),l=Math.max(l,n.startTime),n.active=!0;if(c){if(0===o)break;o--}else{if(o===r.length-1)break;o++}}this.activeCues_=u,this.nextChange=a,this.prevChange=l,this.firstActiveIndex=s,this.lastActiveIndex=i,this.updateDisplay(),this.trigger("cuechange")}}},vjs.TextTrack.prototype.updateDisplay=function(){for(var t=this.activeCues_,e="",s=0,i=t.length;s<i;s++)e+='<span class="vjs-tt-cue">'+t[s].text+"</span>";this.el_.innerHTML=e},vjs.TextTrack.prototype.reset=function(){this.nextChange=0,this.prevChange=this.player_.duration(),this.firstActiveIndex=0,this.lastActiveIndex=0},vjs.CaptionsTrack=vjs.TextTrack.extend(),vjs.CaptionsTrack.prototype.kind_="captions",vjs.SubtitlesTrack=vjs.TextTrack.extend(),vjs.SubtitlesTrack.prototype.kind_="subtitles",vjs.ChaptersTrack=vjs.TextTrack.extend(),vjs.ChaptersTrack.prototype.kind_="chapters",vjs.TextTrackDisplay=vjs.Component.extend({init:function(t,e,s){vjs.Component.call(this,t,e,s),t.options_.tracks&&0<t.options_.tracks.length&&this.player_.addTextTracks(t.options_.tracks)}}),vjs.TextTrackDisplay.prototype.createEl=function(){return vjs.Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},vjs.TextTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var s=this.track=e.track;e.label=s.label(),e.selected=s.dflt(),vjs.MenuItem.call(this,t,e),this.player_.on(s.kind()+"trackchange",vjs.bind(this,this.update))}}),vjs.TextTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.TextTrackMenuItem.prototype.update=function(){this.selected(2==this.track.mode())},vjs.OffTextTrackMenuItem=vjs.TextTrackMenuItem.extend({init:function(t,e){e.track={kind:function(){return e.kind},player:t,label:function(){return e.kind+" off"},dflt:function(){return!1},mode:function(){return!1}},vjs.TextTrackMenuItem.call(this,t,e),this.selected(!0)}}),vjs.OffTextTrackMenuItem.prototype.onClick=function(){vjs.TextTrackMenuItem.prototype.onClick.call(this),this.player_.showTextTrack(this.track.id_,this.track.kind())},vjs.OffTextTrackMenuItem.prototype.update=function(){for(var t,e=this.player_.textTracks(),s=0,i=e.length,n=!0;s<i;s++)(t=e[s]).kind()==this.track.kind()&&2==t.mode()&&(n=!1);this.selected(n)},vjs.TextTrackButton=vjs.MenuButton.extend({init:function(t,e){vjs.MenuButton.call(this,t,e),this.items.length<=1&&this.hide()}}),vjs.TextTrackButton.prototype.createItems=function(){var t,e=[];e.push(new vjs.OffTextTrackMenuItem(this.player_,{kind:this.kind_}));for(var s=0;s<this.player_.textTracks().length;s++)(t=this.player_.textTracks()[s]).kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.CaptionsButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Captions Menu")}}),vjs.CaptionsButton.prototype.kind_="captions",vjs.CaptionsButton.prototype.buttonText="Captions",vjs.CaptionsButton.prototype.className="vjs-captions-button",vjs.SubtitlesButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Subtitles Menu")}}),vjs.SubtitlesButton.prototype.kind_="subtitles",vjs.SubtitlesButton.prototype.buttonText="Subtitles",vjs.SubtitlesButton.prototype.className="vjs-subtitles-button",vjs.ChaptersButton=vjs.TextTrackButton.extend({init:function(t,e,s){vjs.TextTrackButton.call(this,t,e,s),this.el_.setAttribute("aria-label","Chapters Menu")}}),vjs.ChaptersButton.prototype.kind_="chapters",vjs.ChaptersButton.prototype.buttonText="Chapters",vjs.ChaptersButton.prototype.className="vjs-chapters-button",vjs.ChaptersButton.prototype.createItems=function(){for(var t,e=[],s=0;s<this.player_.textTracks().length;s++)(t=this.player_.textTracks()[s]).kind()===this.kind_&&e.push(new vjs.TextTrackMenuItem(this.player_,{track:t}));return e},vjs.ChaptersButton.prototype.createMenu=function(){for(var t,e,s=this.player_.textTracks(),i=0,n=s.length,o=this.items=[];i<n;i++)if((t=s[i]).kind()==this.kind_&&t.dflt()){if(t.readyState()<2)return void(this.chaptersTrack=t).on("loaded",vjs.bind(this,this.createMenu));e=t;break}var r=this.menu=new vjs.Menu(this.player_);if(r.contentEl().appendChild(vjs.createEl("li",{className:"vjs-menu-title",innerHTML:vjs.capitalize(this.kind_),tabindex:-1})),e){var a,l,c=e.cues_;for(i=0,n=c.length;i<n;i++)a=c[i],l=new vjs.ChaptersTrackMenuItem(this.player_,{track:e,cue:a}),o.push(l),r.addChild(l)}return 0<this.items.length&&this.show(),r},vjs.ChaptersTrackMenuItem=vjs.MenuItem.extend({init:function(t,e){var s=this.track=e.track,i=this.cue=e.cue,n=t.currentTime();e.label=i.text,e.selected=i.startTime<=n&&n<i.endTime,vjs.MenuItem.call(this,t,e),s.on("cuechange",vjs.bind(this,this.update))}}),vjs.ChaptersTrackMenuItem.prototype.onClick=function(){vjs.MenuItem.prototype.onClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},vjs.ChaptersTrackMenuItem.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)},vjs.obj.merge(vjs.ControlBar.prototype.options_.children,{subtitlesButton:{},captionsButton:{},chaptersButton:{}}),vjs.JSON,void 0!==window.JSON&&"function"===window.JSON.parse)vjs.JSON=window.JSON;else{vjs.JSON={};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;vjs.JSON.parse=function(text,reviver){var j;function walk(t,e){var s,i,n=t[e];if(n&&"object"==typeof n)for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(void 0!==(i=walk(n,s))?n[s]=i:delete n[s]);return reviver.call(t,e,n)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse(): invalid or malformed JSON data")}}vjs.autoSetup=function(){var t,e,s=document.getElementsByTagName("video");if(s&&0<s.length)for(var i=0,n=s.length;i<n;i++){if(!(e=s[i])||!e.getAttribute){vjs.autoSetupTimeout(1);break}void 0===e.player&&null!==(t=e.getAttribute("data-setup"))&&(t=vjs.JSON.parse(t||"{}"),videojs(e,t))}else vjs.windowLoaded||vjs.autoSetupTimeout(1)},vjs.autoSetupTimeout=function(t){setTimeout(vjs.autoSetup,t)},"complete"===document.readyState?vjs.windowLoaded=!0:vjs.one(window,"load",function(){vjs.windowLoaded=!0}),vjs.autoSetupTimeout(1),vjs.plugin=function(t,e){vjs.Player.prototype[t]=e},function(){function t(){}var e=t.prototype,s=this,i=s.EventEmitter;function o(t,e){for(var s=t.length;s--;)if(t[s].listener===e)return s;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}e.getListeners=function(t){var e,s,i=this._getEvents();if("object"==typeof t)for(s in e={},i)i.hasOwnProperty(s)&&t.test(s)&&(e[s]=i[s]);else e=i[t]||(i[t]=[]);return e},e.flattenListeners=function(t){var e,s=[];for(e=0;e<t.length;e+=1)s.push(t[e].listener);return s},e.getListenersAsObject=function(t){var e,s=this.getListeners(t);return s instanceof Array&&((e={})[t]=s),e||s},e.addListener=function(t,e){var s,i=this.getListenersAsObject(t),n="object"==typeof e;for(s in i)i.hasOwnProperty(s)&&-1===o(i[s],e)&&i[s].push(n?e:{listener:e,once:!1});return this},e.on=n("addListener"),e.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},e.once=n("addOnceListener"),e.defineEvent=function(t){return this.getListeners(t),this},e.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},e.removeListener=function(t,e){var s,i,n=this.getListenersAsObject(t);for(i in n)n.hasOwnProperty(i)&&-1!==(s=o(n[i],e))&&n[i].splice(s,1);return this},e.off=n("removeListener"),e.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},e.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},e.manipulateListeners=function(t,e,s){var i,n,o=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=s.length;i--;)o.call(this,e,s[i]);else for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&("function"==typeof n?o.call(this,i,n):r.call(this,i,n));return this},e.removeEvent=function(t){var e,s=typeof t,i=this._getEvents();if("string"==s)delete i[t];else if("object"==s)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},e.removeAllListeners=n("removeEvent"),e.emitEvent=function(t,e){var s,i,n,o=this.getListenersAsObject(t);for(n in o)if(o.hasOwnProperty(n))for(i=o[n].length;i--;)!0===(s=o[n][i]).once&&this.removeListener(t,s.listener),s.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,s.listener);return this},e.trigger=n("emitEvent"),e.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},e.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},e._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},e._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=i,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(s){var t=document.documentElement,e=function(){};function i(t){var e=s.event;return e.target=e.target||e.srcElement||t,e}t.addEventListener?e=function(t,e,s){t.addEventListener(e,s,!1)}:t.attachEvent&&(e=function(e,t,s){e[t+s]=s.handleEvent?function(){var t=i(e);s.handleEvent.call(s,t)}:function(){var t=i(e);s.call(e,t)},e.attachEvent("on"+t,e[t+s])});var n=function(){};t.removeEventListener?n=function(t,e,s){t.removeEventListener(e,s,!1)}:t.detachEvent&&(n=function(e,s,i){e.detachEvent("on"+s,e[s+i]);try{delete e[s+i]}catch(t){e[s+i]=void 0}});var o={bind:e,unbind:n};"function"==typeof define&&define.amd?define("eventie/eventie",o):s.eventie=o}(this),Sr=window,Tr=function(t,e,s){var n=t.jQuery,r=t.console,a=void 0!==r;function o(t,e){for(var s in e)t[s]=e[s];return t}var l=Object.prototype.toString;function c(t){var e=[];if(function(t){return"[object Array]"===l.call(t)}(t))e=t;else if("number"==typeof t.length)for(var s=0,i=t.length;s<i;s++)e.push(t[s]);else e.push(t);return e}function u(t,e,s){if(!(this instanceof u))return new u(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=c(t),this.options=o({},this.options),"function"==typeof e?s=e:o(this.options,e),s&&this.on("always",s),this.getImages(),n&&(this.jqDeferred=new n.Deferred);var i=this;setTimeout(function(){i.check()})}function i(t){this.img=t}(u.prototype=new e).options={},u.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;t<e;t++){var s=this.elements[t];"IMG"===s.nodeName&&this.addImage(s);var i=s.nodeType;if(i&&(1===i||9===i||11===i))for(var n=s.querySelectorAll("img"),o=0,r=n.length;o<r;o++){var a=n[o];this.addImage(a)}}},u.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},u.prototype.check=function(){var s=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,n)for(var t=0;t<n;t++){var e=this.images[t];e.on("confirm",o),e.check()}else this.complete();function o(t,e){return s.options.debug&&a&&r.log("confirm",t,e),s.progress(t),++i===n&&s.complete(),!0}},u.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},u.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var s=this;setTimeout(function(){if(s.emit(e,s),s.emit("always",s),s.jqDeferred){var t=s.hasAnyBroken?"reject":"resolve";s.jqDeferred[t](s)}})},n&&(n.fn.imagesLoaded=function(t,e){return new u(this,t,e).jqDeferred.promise(n(this))}),(i.prototype=new e).check=function(){var t=h[this.img.src]||new d(this.img.src);if(t.isConfirmed)this.confirm(t.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var s=this;t.on("confirm",function(t,e){return s.confirm(t.isLoaded,e),!0}),t.check()}},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var h={};function d(t){this.src=t,h[t]=this}return(d.prototype=new e).check=function(){if(!this.isChecked){var t=new Image;s.bind(t,"load",this),s.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},d.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},d.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},d.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},d.prototype.unbindProxyEvents=function(t){s.unbind(t.target,"load",this),s.unbind(t.target,"error",this)},u},"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(t,e){return Tr(Sr,t,e)}):"object"==typeof exports?module.exports=Tr(Sr,require("wolfy87-eventemitter"),require("eventie")):Sr.imagesLoaded=Tr(Sr,Sr.EventEmitter,Sr.eventie),jQuery(document).ready(function(j){var i,n,b,d,o,r,h,a,p,e,l,v,m,c=110,u=j("body").css("overflow"),f=j("html").css("overflow"),g="";window.innerWidth<=760&&(c=Math.round(window.innerWidth/760*110))<40&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(c=0);function y(t){switch(t.which){case 38:t.preventDefault(),d.scrollTop(d.scrollTop()-100);break;case 40:t.preventDefault(),d.scrollTop(d.scrollTop()+100);break;case 39:t.preventDefault(),b.jp_carousel("clearCommentTextAreaValue"),b.jp_carousel("next");break;case 37:case 8:t.preventDefault(),b.jp_carousel("clearCommentTextAreaValue"),b.jp_carousel("previous");break;case 27:t.preventDefault(),b.jp_carousel("clearCommentTextAreaValue"),d.jp_carousel("close")}}function w(t){clearTimeout(e),e=setTimeout(function(){b.jp_carousel("slides").jp_carousel("fitSlide",!0),b.jp_carousel("updateSlidePositions",!0),b.jp_carousel("fitMeta",!0)},200)}var s={testForData:function(t){return!(!(t=j(t)).length||null==t.data("carousel-extra"))},testIfOpened:function(){return void 0!==b&&void 0!==b.opened&&1==b.opened},openOrSelectSlide:function(t){j(this).jp_carousel("testIfOpened")?b.jp_carousel("selectSlideAtIndex",t):j(this).jp_carousel("open",{start_index:t})},open:function(e){var s={items_selector:".gallery-item [data-attachment-id], .tiled-gallery-item [data-attachment-id]",start_index:0},t=j(this).data("carousel-extra");if(t&&(function(){if(!i){i=j("<div></div>").addClass("jp-carousel-overlay").css({position:"absolute",top:0,right:0,bottom:0,left:0});var t='<a class="jp-carousel-commentlink" href="#">'+jetpackCarouselStrings.comment+"</a>";jetpackCarouselStrings.is_logged_in,t=j('<div class="jp-carousel-buttons">'+t+"</div>"),p=j("<h2></h2>"),l=j('<div class="jp-carousel-photo-info"></div>').append(p),imageMeta=j("<div></div>").addClass("jp-carousel-image-meta").css({float:"right","margin-top":"20px",width:"250px"}),imageMeta.append(t).append("<ul class='jp-carousel-image-exif' style='display:none;'></ul>").append("<a class='jp-carousel-image-download' style='display:none;'></a>").append("<div class='jp-carousel-image-map' style='display:none;'></div>"),titleAndDescription=j("<div></div>").addClass("jp-carousel-titleanddesc").css({width:"100%","margin-top":imageMeta.css("margin-top")});var e='<div id="jp-carousel-comment-form-container">';jetpackCarouselStrings.local_comments_commenting_as&&jetpackCarouselStrings.local_comments_commenting_as.length&&(1!=jetpackCarouselStrings.is_logged_in&&1==jetpackCarouselStrings.comment_registration?e+='<div id="jp-carousel-comment-form-commenting-as">'+jetpackCarouselStrings.local_comments_commenting_as+"</div>":(e+='<form id="jp-carousel-comment-form">',e+='<textarea name="comment" class="jp-carousel-comment-form-field jp-carousel-comment-form-textarea" id="jp-carousel-comment-form-comment-field" placeholder="'+jetpackCarouselStrings.write_comment+'"></textarea>',e+='<div id="jp-carousel-comment-form-submit-and-info-wrapper">',e+='<div id="jp-carousel-comment-form-commenting-as">'+jetpackCarouselStrings.local_comments_commenting_as+"</div>",e+='<input type="submit" name="submit" class="jp-carousel-comment-form-button" id="jp-carousel-comment-form-button-submit" value="'+jetpackCarouselStrings.post_comment+'" />',e+='<span id="jp-carousel-comment-form-spinner">&nbsp;</span>',e+='<div id="jp-carousel-comment-post-results"></div>',e+="</div>",e+="</form>")),commentForm=j(e+="</div>").css({width:"100%","margin-top":"20px",color:"#999"}),n=j("<div></div>").addClass("jp-carousel-comments").css({width:"100%",bottom:"10px","margin-top":"20px"}),commentsLoading=j('<div id="jp-carousel-comments-loading"><span>'+jetpackCarouselStrings.loading_comments+"</span></div>").css({width:"100%",bottom:"10px","margin-top":"20px"}),leftWidth=j(window).width()-2*c-(imageMeta.width()+40),leftWidth+="px",leftColWrapper=j("<div></div>").addClass("jp-carousel-left-column-wrapper").css({width:Math.floor(leftWidth)}).append(titleAndDescription).append(commentForm).append(n).append(commentsLoading),fadeaway=j("<div></div>").addClass("jp-carousel-fadeaway"),h=j("<div></div>").addClass("jp-carousel-info").css({top:Math.floor(j(window).height()/100*85),left:c,right:c}).append(l).append(imageMeta),window.innerWidth<=760?(l.remove().insertAfter(titleAndDescription),h.prepend(leftColWrapper)):h.append(leftColWrapper),targetBottomPos=j(window).height()-parseInt(h.css("top"),10)+"px",o=j("<div><span></span></div>").addClass("jp-carousel-next-button").css({right:"15px"}),r=j("<div><span></span></div>").addClass("jp-carousel-previous-button").css({left:0}),o.add(r).css({position:"fixed",top:"40px",bottom:targetBottomPos,width:c}),b=j("<div></div>").addClass("jp-carousel").css({position:"absolute",top:0,bottom:targetBottomPos,left:0,right:0}),v=j('<div class="jp-carousel-close-hint"><span>&times;</span></div>').css({position:"fixed"}),d=j("<div></div>").addClass("jp-carousel-wrap").addClass("jp-carousel-transitions"),"white"==jetpackCarouselStrings.background_color&&d.addClass("jp-carousel-light"),d.css({position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":2147483647,"overflow-x":"hidden","overflow-y":"auto",direction:"ltr"}).hide().append(i).append(b).append(fadeaway).append(h).append(o).append(r).append(v).appendTo(j("body")).click(function(t){var e=j(t.target),s=e.parents("div.jp-carousel-wrap"),i=s.data("carousel-extra"),n=s.find("div.selected").data("attachment-id");if(i=i||[],e.is(b)||e.parents().add(e).is(v))d.jp_carousel("close");else if(e.hasClass("jp-carousel-commentlink"))t.preventDefault(),t.stopPropagation(),j(window).unbind("keydown",y),d.animate({scrollTop:parseInt(h.position().top,10)},"fast"),j("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast"),j("#jp-carousel-comment-form-comment-field").focus();else if(e.hasClass("jp-carousel-comment-login")){var o=jetpackCarouselStrings.login_url+"%23jp-carousel-"+n;window.location.href=o}else if(e.parents("#jp-carousel-comment-form-container").length){var r=j("#jp-carousel-comment-form-comment-field").blur(function(){j(window).bind("keydown",y)}).focus(function(){j(window).unbind("keydown",y)}),a=j("#jp-carousel-comment-form-email-field").blur(function(){j(window).bind("keydown",y)}).focus(function(){j(window).unbind("keydown",y)}),l=j("#jp-carousel-comment-form-author-field").blur(function(){j(window).bind("keydown",y)}).focus(function(){j(window).unbind("keydown",y)}),c=j("#jp-carousel-comment-form-url-field").blur(function(){j(window).bind("keydown",y)}).focus(function(){j(window).unbind("keydown",y)});if(r&&r.attr("id")==e.attr("id"))j(window).unbind("keydown",y),j("#jp-carousel-comment-form-submit-and-info-wrapper").slideDown("fast");else if(e.is('input[type="submit"]')){t.preventDefault(),t.stopPropagation(),j("#jp-carousel-comment-form-spinner").spin("small","white");var u={action:"post_attachment_comment",nonce:jetpackCarouselStrings.nonce,blog_id:i.blog_id,id:n,comment:r.val()};if(!u.comment.length)return void b.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-comment-field",error:jetpackCarouselStrings.no_comment_text});if(1!=jetpackCarouselStrings.is_logged_in&&(u.email=a.val(),u.author=l.val(),u.url=c.val(),1==jetpackCarouselStrings.require_name_email)){if(!u.email.length||!u.email.match("@"))return void b.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-email-field",error:jetpackCarouselStrings.no_comment_email});if(!u.author.length)return void b.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-author-field",error:jetpackCarouselStrings.no_comment_author})}j.ajax({type:"POST",url:jetpackCarouselStrings.ajaxurl,data:u,dataType:"json",success:function(t,e,s){"approved"==t.comment_status?j("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_approved+"</span>").slideDown("fast"):"unapproved"==t.comment_status?j("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-success">'+jetpackCarouselStrings.comment_unapproved+"</span>").slideDown("fast"):j("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+jetpackCarouselStrings.comment_post_error+"</span>").slideDown("fast"),b.jp_carousel("clearCommentTextAreaValue"),b.jp_carousel("getComments",{attachment_id:n,offset:0,clear:!0}),j("#jp-carousel-comment-form-button-submit").val(jetpackCarouselStrings.post_comment),j("#jp-carousel-comment-form-spinner").spin(!1)},error:function(t,e,s){b.jp_carousel("postCommentError",{field:"jp-carousel-comment-form-comment-field",error:jetpackCarouselStrings.comment_post_error})}})}}else e.parents(".jp-carousel-info").length||d.jp_carousel("next")}).bind("jp_carousel.afterOpen",function(){j(window).bind("keydown",y),j(window).bind("resize",w),b.opened=!0,w()}).bind("jp_carousel.beforeClose",function(){var t=j(window).scrollTop();j(window).unbind("keydown",y),j(window).unbind("resize",w),j(window).scrollTop(t)}).bind("jp_carousel.afterClose",function(){history.pushState?history.pushState("",document.title,window.location.pathname+window.location.search):(g="",window.location.hash=""),b.opened=!1}).on("transitionend.jp-carousel ",".jp-carousel-slide",function(t){if("transform"==t.originalEvent.propertyName){var e=(Date.now()-a)/1e3/t.originalEvent.elapsedTime;d.off("transitionend.jp-carousel"),2<=e&&j(".jp-carousel-transitions").removeClass("jp-carousel-transitions")}}),j(".jp-carousel-wrap").touchwipe({wipeLeft:function(t){t.preventDefault(),b.jp_carousel("next")},wipeRight:function(t){t.preventDefault(),b.jp_carousel("previous")},preventDefaultEvents:!1}),j(".jetpack-likes-widget-unloaded").each(function(){jetpackLikesWidgetQueue.push(this.id)}),o.add(r).click(function(t){t.preventDefault(),t.stopPropagation(),o.is(this)?b.jp_carousel("next"):b.jp_carousel("previous")})}}(),!b.jp_carousel("testIfOpened")))return u=j("body").css("overflow"),j("body").css("overflow","hidden"),f=j("html").css("overflow"),j("html").css("overflow","hidden"),jQuery(".slim-likes-widget").find("iframe").css("display","inline-block").css("width","60px"),d.data("carousel-extra",t),this.each(function(){var t=j(this);e&&j.extend(s,e),-1==s.start_index&&(s.start_index=0),d.trigger("jp_carousel.beforeOpen").fadeIn("fast",function(){d.trigger("jp_carousel.afterOpen"),b.jp_carousel("initSlides",t.find(s.items_selector),s.start_index).jp_carousel("selectSlideAtIndex",s.start_index)}),b.html("")})},selectSlideAtIndex:function(t){var e=this.jp_carousel("slides"),s=e.eq(t);return 0===s.length&&(s=e.eq(0)),b.jp_carousel("selectSlide",s,!1),this},close:function(){return j("body").css("overflow",u),j("html").css("overflow",f),d.trigger("jp_carousel.beforeClose").fadeOut("fast",function(){d.trigger("jp_carousel.afterClose")})},next:function(){var t=b.jp_carousel("nextSlide");d.animate({scrollTop:0},"fast"),t&&this.jp_carousel("selectSlide",t)},previous:function(){var t=b.jp_carousel("prevSlide");d.animate({scrollTop:0},"fast"),t&&this.jp_carousel("selectSlide",t)},resetButtons:function(t){t.data("liked")?j(".jp-carousel-buttons a.jp-carousel-like").addClass("liked").text(jetpackCarouselStrings.unlike):j(".jp-carousel-buttons a.jp-carousel-like").removeClass("liked").text(jetpackCarouselStrings.like)},selectedSlide:function(){return this.find(".selected")},setSlidePosition:function(t){return a=Date.now(),this.css({"-webkit-transform":"translate3d("+t+"px,0,0)","-moz-transform":"translate3d("+t+"px,0,0)","-ms-transform":"translate("+t+"px,0)","-o-transform":"translate("+t+"px,0)",transform:"translate3d("+t+"px,0,0)"})},updateSlidePositions:function(t){var e=this.jp_carousel("selectedSlide"),s=b.width(),i=e.width(),n=b.jp_carousel("prevSlide"),o=b.jp_carousel("nextSlide"),r=n.prev(),a=o.next(),l=Math.floor(.5*(s-i));e.jp_carousel("setSlidePosition",l).show(),b.jp_carousel("fitInfo",t),1==(m.is(e.prevAll())?1:-1)?(a.is(n)||a.jp_carousel("setSlidePosition",s+o.width()).show(),r.is(o)||r.jp_carousel("setSlidePosition",-r.width()-i).show()):a.is(n)||a.jp_carousel("setSlidePosition",s+i).show(),n.jp_carousel("setSlidePosition",Math.floor(-n.width()+.75*c)).show(),o.jp_carousel("setSlidePosition",Math.ceil(s-.75*c)).show()},selectSlide:function(t,e){m=this.find(".selected").removeClass("selected");var s,i,n=b.jp_carousel("slides").css({position:"fixed"}),o=j(t).addClass("selected").css({position:"relative"}),r=o.data("attachment-id"),a=b.jp_carousel("prevSlide"),l=b.jp_carousel("nextSlide"),c=a.prev(),u=l.next();b.jp_carousel("loadFullImage",o),p.hide(),0==l.length&&n.length<=2?j(".jp-carousel-next-button").hide():j(".jp-carousel-next-button").show(),0==a.length&&n.length<=2?j(".jp-carousel-previous-button").hide():j(".jp-carousel-previous-button").show(),s=o.add(a).add(c).add(l).add(u).jp_carousel("loadSlide"),n.not(s).hide(),b.jp_carousel("updateSlidePositions",e),b.jp_carousel("resetButtons",o),d.trigger("jp_carousel.selectSlide",[o]),b.jp_carousel("getTitleDesc",{title:o.data("title"),desc:o.data("desc")}),b.jp_carousel("loadLikes",r),b.jp_carousel("updateLikesWidgetVisibility",r),0<l.length&&b.jp_carousel("loadLikes",l.data("attachment-id")),0<a.length&&b.jp_carousel("loadLikes",a.data("attachment-id"));var h=o.data("image-meta");b.jp_carousel("updateExif",h),b.jp_carousel("updateFullSizeLink",o),b.jp_carousel("updateMap",h),b.jp_carousel("testCommentsOpened",o.data("comments-opened")),b.jp_carousel("getComments",{attachment_id:r,offset:0,clear:!0}),j("#jp-carousel-comment-post-results").slideUp(),o.data("caption")?((i=j("<div />").text(o.data("caption")).html())==j("<div />").text(o.data("title")).html()&&j(".jp-carousel-titleanddesc-title").fadeOut("fast").empty(),i==j("<div />").text(o.data("desc")).html()&&j(".jp-carousel-titleanddesc-desc").fadeOut("fast").empty(),p.html(o.data("caption")).fadeIn("slow")):p.fadeOut("fast").empty(),j(l).add(a).each(function(){b.jp_carousel("loadFullImage",j(this))}),window.location.hash=g="#jp-carousel-"+r},slides:function(){return this.find(".jp-carousel-slide")},slideDimensions:function(){return{width:j(window).width()-2*c,height:Math.floor(j(window).height()/100*85-60)}},loadSlide:function(){return this.each(function(){var t=j(this);t.find("img").one("load",function(){t.jp_carousel("fitSlide",!1)})})},bestFit:function(){var t=b.jp_carousel("slideDimensions"),e=this.jp_carousel("originalDimensions"),s=e.width/e.height,i=1,n=1;return e.width>t.width&&(i=t.width/e.width),e.height>t.height&&(n=t.height/e.height),i<n?(width=t.width,height=Math.floor(width/s)):n<i?(height=t.height,width=Math.floor(height*s)):(width=e.width,height=e.height),{width:width,height:height}},fitInfo:function(t){var e=this.jp_carousel("selectedSlide").jp_carousel("bestFit");return l.css({left:Math.floor(.5*(h.width()-e.width)),width:Math.floor(e.width)}),this},fitMeta:function(t){var e={top:Math.floor(j(window).height()/100*85+5)+"px"},s={width:h.width()-(imageMeta.width()+80)+"px"};t?(h.animate(e),leftColWrapper.animate(s)):(h.animate(e),leftColWrapper.css(s))},fitSlide:function(t){return this.each(function(){b.jp_carousel("selectedSlide");var t=j(this),e=t.jp_carousel("bestFit"),s=b.jp_carousel("slideDimensions");e.left=0,e.top=Math.floor(.5*(s.height-e.height))+40,t.css(e)})},texturize:function(t){return t=(t=(t=(t=new String(t)).replace(/'/g,"&#8217;").replace(/&#039;/g,"&#8217;").replace(/[\u2019]/g,"&#8217;")).replace(/"/g,"&#8221;").replace(/&#034;/g,"&#8221;").replace(/&quot;/g,"&#8221;").replace(/[\u201D]/g,"&#8221;")).replace(/([\w]+)=&#[\d]+;(.+?)&#[\d]+;/g,'$1="$2"'),j.trim(t)},initSlides:function(t,g){this.jp_carousel("slideDimensions").width;t.length<2?j(".jp-carousel-next-button, .jp-carousel-previous-button").hide():j(".jp-carousel-next-button, .jp-carousel-previous-button").show(),t.each(function(t){var e=j(this),s=e.data("orig-size")||"",i=b.jp_carousel("slideDimensions"),n=s.split(",");s={width:parseInt(n[0],10),height:parseInt(n[1],10)},medium_file=e.data("medium-file")||"",large_file=e.data("large-file")||"",src=e.data("orig-file"),src=b.jp_carousel("selectBestImageSize",{orig_file:src,orig_width:s.width,orig_height:s.height,max_width:i.width,max_height:i.height,medium_file:medium_file,large_file:large_file}),j(this).data("gallery-src",src)}),0!==g&&(j("<img/>")[0].src=j(t[g]).data("gallery-src"));var y=0<t.first().closest(".tiled-gallery.type-rectangular").length;return t.each(function(t){var e=j(this),s=e.data("attachment-id")||0,i=e.data("comments-opened")||0,n=e.data("image-meta")||{},o=e.data("orig-size")||"",r={width:e[0].naturalWidth,height:e[0].naturalHeight},a=e.data("image-title")||"",l=e.data("image-description")||"",c=e.parents("dl").find("dd.gallery-caption").html()||"",u=e.data("gallery-src")||"",h=e.data("medium-file")||"",d=e.data("large-file")||"",p=e.data("orig-file")||"",v=e.parents("div.tiled-gallery-item").find("div.tiled-gallery-caption").html();if(v&&(c=v),s&&o.length){a=b.jp_carousel("texturize",a),l=b.jp_carousel("texturize",l),c=b.jp_carousel("texturize",c);var m=j("<img/>").attr("src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7").css("width","100%").css("height","100%"),f=j('<div class="jp-carousel-slide"></div>').hide().css({left:t<g?-1e3:b.width()}).append(m).appendTo(b).data("src",u).data("title",a).data("desc",l).data("caption",c).data("attachment-id",s).data("permalink",e.parents("a").attr("href")).data("orig-size",o).data("comments-opened",i).data("image-meta",n).data("medium-file",h).data("large-file",d).data("orig-file",p).data("thumb-size",r);y&&f.data("preview-image",e.attr("src")).css({"background-image":'url("'+e.attr("src")+'")',"background-size":"100% 100%","background-position":"center center"}),f.jp_carousel("fitSlide",!1)}}),this},selectBestImageSize:function(t){if("object"!=typeof t&&(t={}),void 0===t.orig_file)return"";if(void 0===t.orig_width||void 0===t.max_width)return t.orig_file;if(void 0===t.medium_file||void 0===t.large_file)return t.orig_file;var e=t.medium_file.replace(/-([\d]+x[\d]+)\..+$/,"$1"),s=e!=t.medium_file?e.split("x"):[t.orig_width,0],i=parseInt(s[0],10),n=parseInt(s[1],10),o=t.large_file.replace(/-([\d]+x[\d]+)\..+$/,"$1"),r=o!=t.large_file?o.split("x"):[t.orig_width,0],a=parseInt(r[0],10),l=parseInt(r[1],10);return void 0!==window.devicePixelRatio&&1<window.devicePixelRatio&&(t.max_width=t.max_width*window.devicePixelRatio,t.max_height=t.max_height*window.devicePixelRatio),a>=t.max_width||l>=t.max_height?t.large_file:i>=t.max_width||n>=t.max_height?t.medium_file:t.orig_file},originalDimensions:function(){var t=j(this).data("orig-size").split(",");return{width:parseInt(t[0],10),height:parseInt(t[1],10)}},format:function(s){if("object"!=typeof s&&(s={}),s.text&&void 0!==s.text)return s.replacements&&void 0!==s.replacements?s.text.replace(/{(\d+)}/g,function(t,e){return void 0!==s.replacements[e]?s.replacements[e]:t}):s.text},shutterSpeed:function(t){if(1<=t)return Math.round(t)+"s";for(var e=1,s=1,i=1,n=1e3;e!=t&&0<n--;)e<t?s+=1:(i+=1,s=parseInt(t*i,10)),e=s/i;return 1<s&&(i=Math.round(i/s),s=1),i<=1?"1s":s+"/"+i+"s"},parseTitleDesc:function(s){if(!s.match(" ")&&s.match("_"))return"";j(["CIMG","DSC_","DSCF","DSCN","DUW","GEDC","IMG","JD","MGP","PICT","Imagen","Foto","DSC","Scan","SANY","SAM","Screen Shot [0-9]+"]).each(function(t,e){regex=new RegExp("^"+e),regex.test(s)&&(s="")});return s},getTitleDesc:function(t){var e,s,i="",n="";(s=j("div.jp-carousel-titleanddesc","div.jp-carousel-wrap")).hide(),i=b.jp_carousel("parseTitleDesc",t.title)||"",e=b.jp_carousel("parseTitleDesc",t.desc)||"",(i.length||e.length)&&(j("<div />").text(i).html()==j("<div />").text(e).html()&&(i=""),n=i.length?'<div class="jp-carousel-titleanddesc-title">'+i+"</div>":"",n+=e.length?'<div class="jp-carousel-titleanddesc-desc">'+e+"</div>":"",s.html(n).fadeIn("slow")),j("div#jp-carousel-comment-form-container").css("margin-top","20px"),j("div#jp-carousel-comments-loading").css("margin-top","20px")},updateLikesWidgetVisibility:function(e){"undefined"!=typeof jetpackLikesWidgetQueue&&j(".jp-carousel-buttons .jetpack-likes-widget-wrapper").css("display","none").each(function(){var t=j(this);if(t.attr("data-attachment-id")==e)return t.css("display","inline-block"),!1})},loadLikes:function(t){var e=j(".jp-carousel-wrap").data("carousel-extra"),s=e.likes_blog_id;if(0==j("#like-post-wrapper-"+s+"-"+t).length){var i="http",n="http://wordpress.com";if(e.permalink.length){"http"!=(i=e.permalink.split(":")[0])&&"https"!=i&&(i="http");var o=e.permalink.split("/");2<=o.length&&(n=i+"://"+o[2])}var r=i+"://widgets.wp.com/likes/#blog_id="+encodeURIComponent(s)+"&post_id="+encodeURIComponent(t)+"&slim=1&origin="+encodeURIComponent(n);"en"!==jetpackCarouselStrings.lang&&(r+="&lang="+encodeURIComponent(jetpackCarouselStrings.lang));var a=j("<iframe class='post-likes-widget jetpack-likes-widget jetpack-resizeable'></iframe>").attr("name","like-post-frame-"+s+"-"+t).attr("src",r).css("display","inline-block"),l=j("<div/>").addClass("jetpack-likes-widget-wrapper jetpack-likes-widget-unloaded slim-likes-widget").attr("id","like-post-wrapper-"+s+"-"+t).attr("data-src",r).attr("data-name","like-post-frame-"+s+"-"+t).attr("data-attachment-id",t).css("display","none").css("vertical-align","middle").append(a).append("<div class='post-likes-widget-placeholder'></div>");j(".jp-carousel-buttons").append(l)}},updateExif:function(t){if(!t||1!=jetpackCarouselStrings.display_exif)return!1;var s=j("<ul class='jp-carousel-image-exif'></ul>");j.each(t,function(t,e){if(0!==parseFloat(e)&&e.length&&-1!==j.inArray(t,["camera","aperture","shutter_speed","focal_length"])){switch(t){case"focal_length":e+="mm";break;case"shutter_speed":e=b.jp_carousel("shutterSpeed",e);break;case"aperture":e="f/"+e}s.append("<li><h5>"+jetpackCarouselStrings[t]+"</h5>"+e+"</li>")}}),j("div.jp-carousel-image-meta ul.jp-carousel-image-exif").replaceWith(s)},updateFullSizeLink:function(t){if(!t||!t.data)return!1;var e=t.data("orig-file").replace(/\?.+$/,""),s=t.data("orig-size").split(","),i=j("<a>"+b.jp_carousel("format",{text:jetpackCarouselStrings.download_original,replacements:s})+"</a>").addClass("jp-carousel-image-download").attr("href",e).attr("target","_blank");j("div.jp-carousel-image-meta a.jp-carousel-image-download").replaceWith(i)},updateMap:function(t){if(t.latitude&&t.longitude&&1==jetpackCarouselStrings.display_geo){var e=t.latitude,s=t.longitude,i=j("div.jp-carousel-image-meta","div.jp-carousel-wrap"),n="&scale=2&style=feature:all|element:all|invert_lightness:true|hue:0x0077FF|saturation:-50|lightness:-5|gamma:0.91";j("<div></div>").addClass("jp-carousel-image-map").html('<img width="154" height="154" src="https://maps.googleapis.com/maps/api/staticmap?\t\t\t\t\t\t\tcenter='+e+","+s+"&\t\t\t\t\t\t\tzoom=8&\t\t\t\t\t\t\tsize=154x154&\t\t\t\t\t\t\tsensor=false&\t\t\t\t\t\t\tmarkers=size:medium%7Ccolor:blue%7C"+e+","+s+n+'" class="gmap-main" />\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="gmap-topright"><div class="imgclip"><img width="175" height="154" src="https://maps.googleapis.com/maps/api/staticmap?\t\t\t\t\t\t\tcenter='+e+","+s+"&\t\t\t\t\t\t\tzoom=3&\t\t\t\t\t\t\tsize=175x154&\t\t\t\t\t\t\tsensor=false&\t\t\t\t\t\t\tmarkers=size:small%7Ccolor:blue%7C"+e+","+s+n+'"c /></div></div>\t\t\t\t\t\t\t\t\t\t\t\t\t').prependTo(i)}},testCommentsOpened:function(t){1==parseInt(t,10)?(j(".jp-carousel-buttons").fadeIn("fast"),commentForm.fadeIn("fast")):(j(".jp-carousel-buttons").fadeOut("fast"),commentForm.fadeOut("fast"))},getComments:function(t){return!1},postCommentError:function(t){"object"!=typeof t&&(t={}),t.field&&void 0!==t.field&&t.error&&void 0!==t.error&&(j("#jp-carousel-comment-post-results").slideUp("fast").html('<span class="jp-carousel-comment-post-error">'+t.error+"</span>").slideDown("fast"),j("#jp-carousel-comment-form-spinner").spin(!1))},setCommentIframeSrc:function(t){var e=j("#jp-carousel-comment-iframe");e&&e.length&&(e.attr("src",e.attr("src").replace(/(postid=)\d+/,"$1"+t)),e.attr("src",e.attr("src").replace(/(%23.+)?$/,"%23jp-carousel-"+t)))},clearCommentTextAreaValue:function(){var t=j("#jp-carousel-comment-form-comment-field");t&&t.val("")},nextSlide:function(){var t=this.jp_carousel("slides"),e=this.jp_carousel("selectedSlide");return 0==e.length||2<t.length&&e.is(t.last())?t.first():e.next()},prevSlide:function(){var t=this.jp_carousel("slides"),e=this.jp_carousel("selectedSlide");return 0==e.length||2<t.length&&e.is(t.first())?t.last():e.prev()},loadFullImage:function(t){var e=t.find("img:first");e.data("loaded")||(e.on("load.jetpack",function(){e.off("load.jetpack"),j(this).closest(".jp-carousel-slide").css("background-image","")}),!t.data("preview-image")||t.data("thumb-size")&&t.width()>t.data("thumb-size").width?e.attr("src",e.closest(".jp-carousel-slide").data("src")):e.attr("src",t.data("preview-image")),e.data("loaded",1))}};j.fn.jp_carousel=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void j.error("Method "+t+" does not exist on jQuery.jp_carousel"):s.open.apply(this,arguments)},j(document.body).on("click","div.gallery,div.tiled-gallery",function(t){j(this).jp_carousel("testForData",t.currentTarget)&&(j(t.target).parent().hasClass("gallery-caption")||(t.preventDefault(),j(this).jp_carousel("open",{start_index:j(this).find(".gallery-item, .tiled-gallery-item").index(j(t.target).parents(".gallery-item, .tiled-gallery-item"))})))}),j(window).on("hashchange",function(){if(window.location.hash&&window.location.hash.match(/jp-carousel-(\d+)/)&&window.location.hash!=g){g=window.location.hash;var t=j("div.gallery, div.tiled-gallery"),s=-1,i=window.location.hash.match(/jp-carousel-(\d+)/);j(this).jp_carousel("testForData",t)&&(i=parseInt(i[1],10),t.find("img").each(function(t,e){if(i&&j(e).data("attachment-id")==i)return s=t,!1}),-1!=s&&t.jp_carousel("openOrSelectSlide",s))}}),window.location.hash&&j(window).trigger("hashchange")}),mx=jQuery,mx.fn.touchwipe=function(t){var c={min_move_x:20,min_move_y:20,wipeLeft:function(t){},wipeRight:function(t){},wipeUp:function(t){},wipeDown:function(t){},preventDefaultEvents:!0};return t&&mx.extend(c,t),this.each(function(){var o,r,a=!1;function l(){this.removeEventListener("touchmove",e),o=null,a=!1}function e(t){if(c.preventDefaultEvents&&t.preventDefault(),a){var e=t.touches[0].pageX,s=t.touches[0].pageY,i=o-e,n=r-s;Math.abs(i)>=c.min_move_x?(l(),0<i?c.wipeLeft(t):c.wipeRight(t)):Math.abs(n)>=c.min_move_y&&(l(),0<n?c.wipeDown(t):c.wipeUp(t))}}"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",function(t){1==t.touches.length&&(o=t.touches[0].pageX,r=t.touches[0].pageY,a=!0,this.addEventListener("touchmove",e,!1))},!1)}),this};var q=null,Px,Ox,Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,Yx;function Hx(t,e,s,i){e&&(s(t={a:e,d:t}),i.push.apply(i,t.e))}function Ix(l,f){var g,y={};!function(){for(var t=l.concat(f),e=[],s={},i=0,n=t.length;i<n;++i){var o=t[i],r=o[3];if(r)for(var a=r.length;0<=--a;)y[r.charAt(a)]=o;r=""+(o=o[1]),s.hasOwnProperty(r)||(e.push(o),s[r]=q)}e.push(/[\S\s]/),g=function(t){function l(t){var e=t.charCodeAt(0);if(92!==e)return e;var s=t.charAt(1);return(e=r[s])?e:"0"<=s&&s<="7"?parseInt(t.substring(1),8):"u"===s||"x"===s?parseInt(t.substring(2),16):t.charCodeAt(1)}function c(t){return t<32?(t<16?"\\x0":"\\x")+t.toString(16):("\\"!==(t=String.fromCharCode(t))&&"-"!==t&&"["!==t&&"]"!==t||(t="\\"+t),t)}function a(t){for(var e=t.substring(1,t.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),s=(t=[],[]),i="^"===e[0],n=i?1:0,o=e.length;n<o;++n){var r=e[n];if(/\\[bdsw]/i.test(r))t.push(r);else{var a;r=l(r);n+2<o&&"-"===e[n+1]?(a=l(e[n+2]),n+=2):a=r,s.push([r,a]),a<65||122<r||(a<65||90<r||s.push([32|Math.max(65,r),32|Math.min(a,90)]),a<97||122<r||s.push([-33&Math.max(97,r),-33&Math.min(a,122)]))}}for(s.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),e=[],r=[NaN,NaN],n=0;n<s.length;++n)(o=s[n])[0]<=r[1]+1?r[1]=Math.max(r[1],o[1]):e.push(r=o);for(s=["["],i&&s.push("^"),s.push.apply(s,t),n=0;n<e.length;++n)o=e[n],s.push(c(o[0])),o[1]>o[0]&&(o[1]+1>o[0]&&s.push("-"),s.push(c(o[1])));return s.push("]"),s.join("")}function e(t){for(var e=t.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),s=e.length,i=[],n=0,o=0;n<s;++n){var r=e[n];"("===r?++o:"\\"===r.charAt(0)&&(r=+r.substring(1))&&r<=o&&(i[r]=-1)}for(n=1;n<i.length;++n)-1===i[n]&&(i[n]=++u);for(o=n=0;n<s;++n)"("===(r=e[n])?void 0===i[++o]&&(e[n]="(?:"):"\\"===r.charAt(0)&&(r=+r.substring(1))&&r<=o&&(e[n]="\\"+i[o]);for(o=n=0;n<s;++n)"^"===e[n]&&"^"!==e[n+1]&&(e[n]="");if(t.ignoreCase&&h)for(n=0;n<s;++n)t=(r=e[n]).charAt(0),2<=r.length&&"["===t?e[n]=a(r):"\\"!==t&&(e[n]=r.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}));return e.join("")}for(var u=0,h=!1,s=!1,i=0,n=t.length;i<n;++i){var o=t[i];if(o.ignoreCase)s=!0;else if(/[a-z]/i.test(o.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){s=!(h=!0);break}}var r={b:8,t:9,n:10,v:11,f:12,r:13},d=[];for(i=0,n=t.length;i<n;++i){if((o=t[i]).global||o.multiline)throw Error(""+o);d.push("(?:"+e(o)+")")}return RegExp(d.join("|"),s?"gi":"g")}(e)}();var j=f.length;return function t(e){for(var s=e.d,i=[s,"pln"],n=0,o=e.a.match(g)||[],r={},a=0,l=o.length;a<l;++a){var c,u=o[a],h=r[u],d=void 0;if("string"==typeof h)c=!1;else{var p=y[u.charAt(0)];if(p)d=u.match(p[1]),h=p[0];else{for(c=0;c<j;++c)if(p=f[c],d=u.match(p[1])){h=p[0];break}d||(h="pln")}!(c=5<=h.length&&"lang-"===h.substring(0,5))||d&&"string"==typeof d[1]||(c=!1,h="src"),c||(r[u]=h)}if(p=n,n+=u.length,c){c=d[1];var v=u.indexOf(c),m=v+c.length;d[2]&&(v=(m=u.length-d[2].length)-c.length),h=h.substring(5),Hx(s+p,u.substring(0,v),t,i),Hx(s+p+v,c,Mx(h,c),i),Hx(s+p+m,u.substring(m),t,i)}else i.push(s+p,h)}e.e=i}}function Jx(t){var e=[],s=[];t.tripleQuotedStrings?e.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):t.multiLineStrings?e.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):e.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),t.verbatimStrings&&s.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var i=t.hashComments;return i&&(t.cStyleComments?(1<i?e.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):e.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),s.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):e.push(["com",/^#[^\n\r]*/,q,"#"])),t.cStyleComments&&(s.push(["com",/^\/\/[^\n\r]*/,q]),s.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),t.regexLiterals&&s.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(i=t.types)&&s.push(["typ",i]),(t=(""+t.keywords).replace(/^ | $/g,"")).length&&s.push(["kwd",RegExp("^(?:"+t.replace(/[\s,]+/g,"|")+")\\b"),q]),e.push(["pln",/^\s+/,q," \r\n\t "]),s.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]),Ix(e,s)}function Kx(t,e){function n(t){switch(t.nodeType){case 1:if(r.test(t.className))break;if("BR"===t.nodeName)o(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)n(t);break;case 3:case 4:if(c){var e=t.nodeValue,s=e.match(a);if(s){var i=e.substring(0,s.index);t.nodeValue=i,(e=e.substring(s.index+s[0].length))&&t.parentNode.insertBefore(l.createTextNode(e),t.nextSibling),o(t),i||t.parentNode.removeChild(t)}}}}function o(t){for(;!t.nextSibling;)if(!(t=t.parentNode))return;var e;for(t=function t(e,s){var i=s?e.cloneNode(!1):e;if(n=e.parentNode){var n=t(n,1),o=e.nextSibling;n.appendChild(i);for(var r=o;r;r=o)o=r.nextSibling,n.appendChild(r)}return i}(t.nextSibling,0);(e=t.parentNode)&&1===e.nodeType;)t=e;i.push(t)}var s,r=/(?:^|\s)nocode(?:\s|$)/,a=/\r\n?|\n/,l=t.ownerDocument;t.currentStyle?s=t.currentStyle.whiteSpace:window.getComputedStyle&&(s=l.defaultView.getComputedStyle(t,q).getPropertyValue("white-space"));var c=s&&"pre"===s.substring(0,3);for(s=l.createElement("LI");t.firstChild;)s.appendChild(t.firstChild);for(var i=[s],u=0;u<i.length;++u)n(i[u]);e===(0|e)&&i[0].setAttribute("value",e);var h=l.createElement("OL");h.className="linenums";for(var d=Math.max(0,e-1|0)||0,p=(u=0,i.length);u<p;++u)(s=i[u]).className="L"+(u+d)%10,s.firstChild||s.appendChild(l.createTextNode(" ")),h.appendChild(s);t.appendChild(h)}function Lx(t,e){for(var s=e.length;0<=--s;){var i=e[s];Yx.hasOwnProperty(i)?window.console&&console.warn("cannot override language handler %s",i):Yx[i]=t}}function Mx(t,e){return t&&Yx.hasOwnProperty(t)||(t=/^\s*</.test(e)?"default-markup":"default-code"),Yx[t]}function Nx(t){var e=t.g;try{var s=(l=function(t){var e,i=/(?:^|\s)nocode(?:\s|$)/,n=[],o=0,r=[],a=0;t.currentStyle?e=t.currentStyle.whiteSpace:window.getComputedStyle&&(e=document.defaultView.getComputedStyle(t,q).getPropertyValue("white-space"));var l=e&&"pre"===e.substring(0,3);return function t(e){switch(e.nodeType){case 1:if(i.test(e.className))break;for(var s=e.firstChild;s;s=s.nextSibling)t(s);"BR"!==(s=e.nodeName)&&"LI"!==s||(n[a]="\n",r[a<<1]=o++,r[a++<<1|1]=e);break;case 3:case 4:(s=e.nodeValue).length&&(s=l?s.replace(/\r\n?/g,"\n"):s.replace(/[\t\n\r ]+/g," "),n[a]=s,r[a<<1]=o,o+=s.length,r[a++<<1|1]=e)}}(t),{a:n.join("").replace(/\n$/,""),c:r}}(t.h)).a;t.a=s,t.c=l.c,t.d=0,Mx(e,s)(t);var i,n,o=/\bMSIE\b/.test(navigator.userAgent),r=(e=/\n/g,t.a),a=r.length,l=0,c=t.c,u=c.length,h=(s=0,t.e),d=h.length;t=0;for(h[d]=a,n=i=0;n<d;)h[n]!==h[n+2]?(h[i++]=h[n++],h[i++]=h[n++]):n+=2;for(d=i,n=i=0;n<d;){for(var p=h[n],v=h[n+1],m=n+2;m+2<=d&&h[m+1]===v;)m+=2;h[i++]=p,h[i++]=v,n=m}for(h.length=i;s<u;){var f,g=c[s+2]||a,y=h[t+2]||a,j=(m=Math.min(g,y),c[s+1]);if(1!==j.nodeType&&(f=r.substring(l,m))){o&&(f=f.replace(e,"\r")),j.nodeValue=f;var b=j.ownerDocument,w=b.createElement("SPAN");w.className=h[t+1];var _=j.parentNode;_.replaceChild(w,j),w.appendChild(j),l<g&&(c[s+1]=j=b.createTextNode(r.substring(m,g)),_.insertBefore(j,w.nextSibling))}g<=(l=m)&&(s+=2),y<=l&&(t+=2)}}catch(t){"console"in window&&console.log(t&&t.stack?t.stack:t)}}window.PR_SHOULD_USE_CONTINUATION=!0,Qx=[Px=[[Ox=["break,continue,do,else,for,if,return,while"],"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],Rx=[Px,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],Sx=[Rx,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],Tx=[Ox,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],Ux=[Ox,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],Vx=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,Wx=/\S/,Xx=Jx({keywords:[Qx,Sx,Px=[Px,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+Tx,Ux,Ox=[Ox,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),Yx={},Lx(Xx,["default-code"]),Lx(Ix([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),Lx(Ix([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),Lx(Ix([],[["atv",/^[\S\s]+/]]),["uq.val"]),Lx(Jx({keywords:Qx,hashComments:!0,cStyleComments:!0,types:Vx}),["c","cc","cpp","cxx","cyc","m"]),Lx(Jx({keywords:"null,true,false"}),["json"]),Lx(Jx({keywords:Sx,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:Vx}),["cs"]),Lx(Jx({keywords:Rx,cStyleComments:!0}),["java"]),Lx(Jx({keywords:Ox,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),Lx(Jx({keywords:Tx,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),Lx(Jx({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),Lx(Jx({keywords:Ux,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),Lx(Jx({keywords:Px,cStyleComments:!0,regexLiterals:!0}),["js"]),Lx(Jx({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),Lx(Ix([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(t,e,s){var i=document.createElement("PRE");return i.innerHTML=t,s&&Kx(i,s),Nx({g:e,i:s,h:i}),i.innerHTML},window.prettyPrint=function(c){for(var t=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],u=[],e=0;e<t.length;++e)for(var s=0,i=t[e].length;s<i;++s)u.push(t[e][s]);t=q;var h=Date;h.now||(h={now:function(){return+new Date}});var d=0,p=/\blang(?:uage)?-([\w.]+)(?!\S)/;!function t(){for(var e=window.PR_SHOULD_USE_CONTINUATION?h.now()+250:1/0;d<u.length&&h.now()<e;d++){var s=u[d];if(0<=(i=s.className).indexOf("prettyprint")){var i,n,o;if(o=!(i=i.match(p))){for(var r=void 0,a=(o=s).firstChild;a;a=a.nextSibling){var l=a.nodeType;r=1===l?r?o:a:3===l&&Wx.test(a.nodeValue)?o:r}o=(n=r===o?void 0:r)&&"CODE"===n.tagName}for(o&&(i=n.className.match(p)),i=i&&i[1],o=!1,r=s.parentNode;r;r=r.parentNode)if(("pre"===r.tagName||"code"===r.tagName||"xmp"===r.tagName)&&r.className&&0<=r.className.indexOf("prettyprint")){o=!0;break}o||((o=!!(o=s.className.match(/\blinenums\b(?::(\d+))?/))&&(!o[1]||!o[1].length||+o[1]))&&Kx(s,o),Nx({g:i,h:s,i:o}))}}d<u.length?setTimeout(t,250):c&&c()}()},window.PR={createSimpleLexer:Ix,registerLangHandler:Lx,sourceDecorator:Jx,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"};var root=this,UW=function(t){return t instanceof UW?t:this instanceof UW?void(this._wrapped=t):new UW(t)};root.UW=UW,UW.VERSION="0.1",UW.KEYCODES={TAB:9,ENTER:13,ESC:27},UW.elements={alert:".uw-thinstrip",accordion:".uw-accordion",dropdowns:"#dawgdrops",images:"a > img",mobilemenu:"#mobile-relative",togglemobile:"#mobile-sidebar",radio:":radio",checkbox:":checkbox",search:"#uwsearcharea",select:".uw-select",quicklinks:".uw-quicklinks",slideshow:".uw-slideshow",social:".uw-social",vimeo:".uw-vimeo",youtube:".uw-youtube"},UW.getBaseUrl=function(){var t=_.first(_.compact(Backbone.history.location.pathname.split("/")));return Backbone.history.location.origin||(Backbone.history.location.origin=Backbone.history.location.protocol+"//"+Backbone.history.location.hostname+(Backbone.history.location.port?":"+Backbone.history.location.port:"")),-1!=Backbone.history.location.origin.indexOf("www.washington.edu")?Backbone.history.location.origin+(t?"/"+t:"")+"/":-1!=Backbone.history.location.origin.indexOf("depts.washington.edu")?Backbone.history.location.origin+(t?"/"+t:"")+"/":Backbone.history.location.origin+"/"},UW.wpinstance=function(){return Backbone.history.location.pathname?Backbone.history.location.pathname:""},UW.sources={quicklinks:"dental.washington.edu/wp-admin/admin-ajax.php?action=quicklinks"},UW.initialize=function(t){UW.$body=t("body"),UW.$window=t(window),UW.baseUrl=UW.getBaseUrl(),UW.dropdowns=_.map(t(UW.elements.dropdowns),function(t){return new UW.Dropdowns({el:t})}),UW.mobilemenu=_.map(t(UW.elements.mobilemenu),function(t){return new UW.MobileMenu({el:t})}),UW.quicklinks=_.map(t(UW.elements.quicklinks),function(t){return new UW.QuickLinks({el:t,url:UW.sources.quicklinks})}),UW.search=_.map(t(UW.elements.search),function(t){return new UW.Search({el:t})}),UW.images=_.map(t(UW.elements.images),function(t){return new UW.Image({el:t})}),UW.togglemobile=_.map(t(UW.elements.togglemobile),function(t){return new UW.ToggleSidebarMenu({el:t})}),UW.slideshows=_.map(t(UW.elements.slideshow),function(t){return new UW.Slideshow({el:t})}),UW.social=_.map(t(UW.elements.social),function(t){return new UW.Social({el:t})}),UW.vimeo=_.map(t(UW.elements.vimeo),function(t){return new UW.Vimeo({el:t})}),UW.youtube=_.map(t(UW.elements.youtube),function(t){return new UW.YouTube.Collection({el:t})}),UW.accordion=_.map(t(UW.elements.accordion),function(t){return new UW.Accordion({el:t})}),UW.radio=_.map(t(UW.elements.radio),function(t){return new UW.Radio({el:t})}),UW.checkbox=_.map(t(UW.elements.checkbox),function(t){return new UW.Radio({el:t})}),UW.select=_.map(t(UW.elements.select),function(t){return new UW.Select({el:t})}),UW.alert=new UW.Alert({after:UW.elements.alert,model:new UW.Alert.Model}),t("table").addClass("table table-responsive"),t("pre").addClass("prettyprint"),window.prettyPrint&&prettyPrint(),t("#main-menu").smartmenus({subMenusSubOffsetX:1,subMenusSubOffsetY:-8})},jQuery(document).ready(function(){UW.initialize(jQuery)}),UW.Alert=Backbone.View.extend({alert:"#uwalert-alert-message",events:{"click .close":"hide"},template:'<div id="uwalert-alert-message" class="<% _.each( categories, function( category ) { %> <%= category.slug %> <% }) %>"><div class="container"><span class="close">Close</span><h1><%= title %></h1><p><%= excerpt %><a class="more" href="http://emergency.uw.edu" title="<%= title %>">More info</a></p></div></div>',initialize:function(t){_.bindAll(this,"render","hide"),this.options=_.extend({},t),this.model.on("sync",this.render)},render:function(){this.model.get("title")&&($(this.options.after).after(_.template(this.template)(this.model.toJSON())),this.setElement($(this.alert)))},hide:function(){this.$el.remove()}}),UW.Alert.Model=Backbone.Model.extend({alerts:["red-alert-urgent","orange-alert","steel-alert-fyis"],data:{c:"?",test:!0,number:1,type:"post",status:"publish",dataType:"json"},url:"https://public-api.wordpress.com/rest/v1/sites/uwemergency.wordpress.com/posts/",initialize:function(){this.fetch({data:this.data})},parse:function(t){var e=_.first(t.posts);if(_.extend(e.categories,{alert:{slug:window.location.hash.replace("#","")}}),_.intersection(_.pluck(e.categories,"slug"),this.alerts).length||-1!==e.categories.alert.slug.indexOf("uwalert"))return e}}),UW.SearchToggle=Backbone.View.extend({el:"button.uw-search",events:{click:"toggleSearchBar"},settings:{isOpen:!1},initialize:function(){},toggleSearchBar:function(){return this.settings.isOpen=!this.settings.isOpen,this.trigger("open"),UW.$body.toggleClass("search-open"),this.settings.isOpen?(this.$el.attr("aria-label","close search area"),this.$el.attr("aria-expanded","true")):(this.$el.attr("aria-label","open search area"),this.$el.attr("aria-expanded","false")),!1}}),UW.Search=Backbone.View.extend({searchFeatures:{uw:"uw",site:"site"},searchbar:'<div class="container no-height" role="search"><div class="center-block uw-search-wrapper"><form class="uw-search" action="<%= UW.baseUrl %>"><div class="search-form-wrapper"><label class="screen-reader" for="uw-search-bar">Enter search text</label><input id="uw-search-bar" type="search" name="s" value="" autocomplete="off" placeholder="Search"/></div><input type="submit" value="search" class="search" tabindex="0"/></form></div></div>',defaults:{},events:{"click label.radio":"toggleSearchFeature","change select":"toggleSearchFeature","click .search":"submitForm","submit form":"submitSearch",keydown:"handleKeyDown","focus input":"skipToContentIfHidden"},initialize:function(t){this.settings=_.extend({},this.defaults,this.$el.data(),t),this.render(),this.toggle=new UW.SearchToggle,this.toggle.on("open",this.toggleBlur,this),this.searchFeature=this.$el.find(":radio:checked").val()},render:function(){this.$el.html(_.template(this.searchbar)(this.settings))},toggleBlur:function(){this.toggle.settings.isOpen?(this.$el.find("#uw-search-bar").focus(),this.$el.attr("aria-hidden","false").attr("role","search")):this.$el.attr("aria-hidden","true").removeAttr("role")},handleKeyDown:function(t){switch(t.keyCode){case UW.KEYCODES.TAB:return $(t.target)[0]!=$("input.search")[0]||$(t)[0].shiftKey||$("#search-labels").addClass("focused"),$(t.target)[0]!=$("input.search")[0]&&$("#search-labels").hasClass("focused")&&$("#search-labels").removeClass("focused"),!($(t.target)[0]==$("input.radiobtn")[0]&&!$(t)[0].shiftKey)||(this.toggle.$el.focus(),!1);case UW.KEYCODES.ESC:return t.stopPropagation(),this.toggle.toggleSearchBar(),this.toggle.$el.focus(),!1;default:return!0}},toggleSearchFeature:function(t){var e=$(t.currentTarget).find("input").val();this.searchFeature=e},skipToContentIfHidden:function(){this.toggle.settings.isOpen||$("#main-content").focus()},submitSearch:function(t){return this.$el.find("#uw-search-bar").attr("name","q"),this.$el.find("form").attr("action","https://dental.washington.edu/search/"),!0},submitForm:function(){return this.$el.find("form").submit(),!1}}),UW.QuickLinks=Backbone.View.extend({DELAY:500,settings:{},container:"#uw-container",template:'<nav id="quicklinks" aria-label="quick links" aria-hidden="true"><ul id="big-links"><% _.each( links, function( link ) { %> <% if (link.classes) { %><li><span class="<%= link.classes %>"></span><a href="<%= link.url %>" tabindex="-1"><%= link.title %></a></li><% } %><% }) %></ul><h3>Helpful Links</h3><ul id="little-links"><% _.each( links, function( link ) { %> <% if ( ! link.classes) { %><li><span class="<%= link.classes %>"></span><a href="<%= link.url %>" tabindex="-1"><%= link.title %></a></li><% } %><% }) %></ul></nav>',events:{click:"animate",touchstart:"animate",keyup:"animate",blur:"loop"},initialize:function(t){_.bindAll(this,"inner_keydown","render","renderDefault","animate","accessible","loop","transitionEnd"),this.options=_.extend({},this.settings,t),this.links=new UW.QuickLinks.Collection(this.options),this.links.on("sync",this.render),this.links.on("error",this.renderDefault),this.links.fetch()},renderDefault:function(){this.defaultLinks=this.links.defaults,this.render()},render:function(){this.defaultLinks=this.links.defaults,this.quicklinks=$(_.template(this.template)({links:0==this.links.toJSON().length?this.defaultLinks:this.links.toJSON()})),this.$container=$(this.container),this.$container.prepend(this.quicklinks),this.$el.attr("aria-controls","quicklinks").attr("aria-owns","quicklinks"),UW.$body.on("keydown","#quicklinks a:first",this.inner_keydown),UW.$body.on("keyup","#quicklinks a",this.animate),this.quicklinks.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",this.transitionEnd)},transitionEnd:function(t){this.open&&t.target==this.quicklinks[0]&&this.accessible()},inner_keydown:function(t){if(9==t.keyCode&&t.shiftKey)return this.$el.focus(),!1},animate:function(t){if(t.preventDefault(),t.keyCode&&27!=t.keyCode&&(t.keyCode&&13!=t.keyCode||t.keyCode&&32!=t.keyCode))return!1;this.$container.toggleClass("open"),this.quicklinks.toggleClass("open"),this.open=this.quicklinks.hasClass("open"),this.open||this.accessible()},accessible:function(t){this.$el.attr("aria-expanded",this.open),this.quicklinks.attr("aria-hidden",(!this.open).toString()),this.open?(this.$el.attr("aria-label","Close quick links"),this.quicklinks.find("a").attr("tabindex",0).first().focus(),$("#uw-container-inner").attr("aria-hidden",!0),$(".screen-reader-shortcut").attr("aria-hidden",!0)):(this.$el.attr("aria-label","Open quick links"),this.quicklinks.find("a").attr("tabindex",-1),this.$el.focus(),$("#uw-container-inner").attr("aria-hidden",!1),$(".screen-reader-shortcut").attr("aria-hidden",!1))},loop:function(t){this.open&&this.quicklinks.find("li a").first().focus()}}),UW.QuickLinks.Model=Backbone.Model.extend({}),UW.QuickLinks.Collection=Backbone.Collection.extend({model:UW.QuickLinks.Model,initialize:function(t){this.url=t.url,this.url=t.url.replace("www.washington.edu/cms/","www.washington.edu/")},defaults:[{title:"SOD Intranet",url:"https://uwnetid.sharepoint.com/sites/sod/SitePages/home.aspx",classes:["icon-myuw"]},{title:"News & Events",url:"https://dental.washington.edu/about-us/news-events/",classes:["icon-uwtoday"]},{title:"Calendar",url:"https://dental.washington.edu/calendar/",classes:["icon-calendar"]},{title:"UW Directory",url:"http://www.washington.edu/home/peopledir/",classes:["icon-directory"]},{title:"Maps",url:"https://uw.edu/maps",classes:["icon-maps"]},{title:"Course Catalog",url:"https://dental.washington.edu/course-catalog/",classes:!1},{title:"Compliance",url:"https://dental.washington.edu/compliance/",classes:!1},{title:"Policies",url:"https://dental.washington.edu/policies/",classes:!1},{title:"Health & Safety",url:"https://dental.washington.edu/health-and-safety/",classes:!1},{title:"NW Center for Oral & Facial Surgery",url:"https://dental.washington.edu/oral-surgery/",classes:!1},{title:"Facebook",url:"https://www.facebook.com/The-University-of-Washington-School-of-Dentistry-160752227303910/",classes:!1}]}),UW.Slideshow=Backbone.View.extend({el:".uw-slideshow",current:0,controls:'<a tabIndex="-1" href="#" class="<%= classname %> next"></a><a tabIndex="-1" href="#" class="<%= classname %> previous"></a>',animation:{},settings:{slideclass:".slide",controlclasses:{base:"uw-slideshow-controls",lastNext:"last-next",lastPrev:"last-previous"},animationOptions:{easing:"easeOutQuint",duration:1200,queue:!1}},events:{"click .previous":"animateIn","click .next":"animateOut","click .slider-dots li":"dotsAnimate","click .fullscreen":"goFullscreen"},initialize:function(t){this.options=_.extend({},this.settings,t),_.bindAll(this,"animateIn","animateOut","addControls","zIndex","moveDots","goFullscreen"),this.controls=_.template(this.controls)({classname:this.options.controlclasses.base}),this.numberOfSlides=this.$el.find(".slide").length-1,this.photoSlider=this.$el.hasClass("photo-slider"),this.organizeSlideshow(),this.addControls(),this.photoSlideshow(),this.mobileSizing(),this.focusControls(this)},organizeSlideshow:function(){_.each(this.$(".slide").get(),this.zIndex)},mobileSizing:function(){function t(){var t=$(".uw-slideshow"),e=$(".uw-slideshow img:first").height()+50,s=t.find(".slider-dots");windowsize=$(window).width(),windowsize<768&&(t.css("height",e),s.css("marginTop",e-40))}this.photoSlider&&(t(),$(window).resize(t))},photoSlideshow:function(){if(this.photoSlider){for($("."+this.el.classList[2]).append('<ul class="slider-dots slider-dots-'+this.el.classList[2]+'"></ul>','<a tabIndex="-1" class="fullscreen" href="#">Fullscreen</a>'),i=0;i<this.numberOfSlides+1;i++)$(".slider-dots-"+this.el.classList[2]).append("<li></li>");$(".slider-dots-"+this.el.classList[2]+" li:nth-child(1)").addClass("select-dot")}},goFullscreen:function(t){$("body").toggleClass("activeFullscreen"),event.preventDefault()},moveDots:function(){$(".slider-dots-"+this.el.classList[2]+" li").removeClass("select-dot"),$(".slider-dots-"+this.el.classList[2]+" li:nth-child("+(this.current+1)+")").addClass("select-dot")},dotsAnimate:function(t){var e=$(".slider-dots-"+this.el.classList[2]+" li").index(t.target);if(this.moveDots(),e>this.current)for(i=this.current+1;i<=e;i++)this.animateOut();else if(e<this.current){var s=this.current-1;for(i=e;i<=s;i++)this.animateIn()}},addControls:function(){0<this.numberOfSlides&&(this.$el.append(this.controls),this.$el.find(this.options.controlclass),this.$el.addClass(this.options.controlclasses.lastPrev))},animateIn:function(t){return this.direction="in",this.current=this.current<0?-1:this.current-1,this.animation.textLeft=0,this.animation.imageLeft=0,this.animate(),this.current=this.current<0?0:this.current,this.toggleClasses(),this.moveDots(),!1},animateOut:function(t){return this.direction="out",this.animation.textLeft="-200%",this.animation.imageLeft="100%",this.animate(),this.current=this.current===this.numberOfSlides?this.numberOfSlides:this.current+1,this.toggleClasses(),this.moveDots(),!1},animate:function(){this.nextSlideExists()&&this.$(this.options.slideclass).eq(this.current).animate({left:this.animation.imageLeft},this.options.animationOptions).find("div").animate({left:this.animation.textLeft},this.options.animationOptions)},toggleClasses:function(){if(this.$el.removeClass(this.options.controlclasses.lastNext+" "+this.options.controlclasses.lastPrev),0===this.current||this.current===this.numberOfSlides)return this.$el.addClass("out"===this.direction?this.options.controlclasses.lastNext:this.options.controlclasses.lastPrev)},nextSlideExists:function(){return!(this.current<0&&"in"===this.direction||this.current===this.numberOfSlides&&"out"===this.direction)},zIndex:function(t){var e=this.$(t);e.css({zIndex:-1*e.index()+this.numberOfSlides})},focusControls:function(i){var n=$(".uw-slideshow");n.keydown(function(t){if(9==t.keyCode)return!0;if(39==t.keyCode)return i.animateOut(t),!1;if(37==t.keyCode)return i.animateIn(t),!1;if(13==t.keyCode){var e=function(t){for(var e,s=function(t){for(var e,s=t.context.activeElement.children,i=[],n=0;n<s.length;n++)0===(e=s[n]).className.indexOf("slide")&&i.push(e);return i}(t),i=0;i<s.length;i++)if("100%"!=(e=s[i]).style.left)return e;return!1}(n);if(e){var s=function(t){return t.children[0].href}(e);window.location.href=s}}return!1})}}),UW.YouTube={},UW.YouTube.Collection=Backbone.Collection.extend({initialize:function(t){_(this).bindAll("parse"),this.el=t.el,this.$el=$(this.el),this.youtube_id=this.$el.data("uw-youtube"),this.setup_for_type(),this.make_view(),this.fetch({success:this.view.onDataReady})},setup_for_type:function(t){if(this.type=this.$el.data("uw-youtube-type"),this.modest=this.$el.data("modest"),this.resolution=this.$el.data("resolution"),"playlist"==this.type){this.max_results=20;var e=parseInt(this.$el.data("max-results"),10);0<e&&(this.max_results=e),this.model=UW.YouTube.PlaylistItem,this.url="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId="+this.youtube_id+"&key=AIzaSyApmhFr5oa8bmKPcpN7bm-h0mekjkUVypU&maxResults="+this.max_results}else"single"==this.type&&(this.model=UW.YouTube.Video,this.url="https://www.googleapis.com/youtube/v3/videos?part=snippet&id="+this.youtube_id+"&key=AIzaSyApmhFr5oa8bmKPcpN7bm-h0mekjkUVypU")},parse:function(t){var e=this.type,s=this.youtube_id;return _(t.items).map(function(t){return"single"==e&&(t.snippet.resourceId={videoId:s}),t.snippet})},make_view:function(t){this.view=new UW.YouTube.CollectionView({collection:this})}}),UW.YouTube.CollectionView=Backbone.View.extend({template:"<div class='nc-video-player' role='region' aria-label='video' tabindex=-1><div class='tube-wrapper'></div></div>",playlist_section:"<div class='vidSmall'><div class='scrollbar'><div class='track'><div class='thumb'><div class='end'></div></div></div></div><div class='viewport'><div class='vidContent overview'><ul></ul></div></div></div>",events:{"click button":"preview_clicked"},initialize:function(){_(this).bindAll("onReady","onDataReady","onStateChange","preview_clicked","resized"),this.player_ready=!1,this.data_ready=!1,this.wrap(),this.add_iFrame_api(),"playlist"==this.collection.type&&(this.$el.addClass("playlist"),this.add_playlist_section(),this.scrollbar_visible=!1,$(window).resize(this.resized))},resized:function(){var t=this.$vidSmall.find(".viewport").width();t!=this.$viewport_width&&(this.$viewport_width=t,this.showTinyScrollbar())},wrap:function(){this.collection.$el.wrap($(this.template)),this.$el=this.collection.$el.parents(".nc-video-player"),this.el=this.$el[0]},add_iFrame_api:function(){0===UW.$body.find("script#iFrame").length&&(UW.$body.append('<script id="iFrame" title="YouTube video player" src="//www.youtube.com/player_api" type="text/javascript"><\/script>'),this.add_iFrame_function())},add_iFrame_function:function(){window.onYouTubeIframeAPIReady=function(){for(var t=0,e=UW.youtube.length;t<e;t++){var s=UW.youtube[t],i={};s.modest&&(i={rel:0,controls:0,modestbranding:1}),s.view.uwplayer=new YT.Player(s.$el.attr("id"),{videoId:"",playerVars:i,events:{onReady:s.view.onReady,onStateChange:s.view.onStateChange}})}}},add_playlist_section:function(){this.$el.append(this.playlist_section),this.$vidSmall=this.$el.find(".vidSmall"),this.$vidContent=this.$el.find(".vidContent"),this.scrollbar_visible=!1},onReady:function(){this.player_ready=!0,this.check_all_ready()},onDataReady:function(){this.data_ready=!0,"playlist"==this.collection.type&&(this.$vidContent_width=135*this.collection.models.length,this.$vidContent.width(this.$vidContent_width+"px"),this.$viewport_width=this.$vidSmall.find(".viewport").width(),this.showTinyScrollbar()),this.check_all_ready()},showTinyScrollbar:function(){this.$vidContent_width>this.$viewport_width?this.scrollbar_visible||(this.$vidSmall.find(".scrollbar").show(),this.$vidSmall.tinyscrollbar({axis:"x"}),this.scrollbar_visible=!0):this.scrollbar_visible&&(this.$vidSmall.find(".scrollbar").removeAttr("style"),this.scrollbar_visible=!1)},check_all_ready:function(){this.data_ready&&this.player_ready&&this.play(this.collection.models[0].get("resourceId").videoId)},onStateChange:function(t){if(this.is_playlist&&0===t.data){var e=this.$vidContent.find(".vid-active").attr("id"),s=this.video_ids.indexOf(e);s<this.video_ids.length-1?this.play(this.video_ids[s+1]):this.play(this.video_ids[0])}},play:function(t,e){if((e=e||!1)?(this.uwplayer.loadVideoById(t),this.$el.focus()):this.uwplayer.cueVideoById(t),"playlist"==this.collection.type){this.$el.find("a.vid-active").removeClass("vid-active");var s=$("#"+t);if(s.addClass("vid-active"),this.$el.attr("aria-label","video: "+s.data("title")),this.scrollbar_visible){var i=s.position().left;this.$vidContent_width-i<this.$viewport_width&&(i=this.$vidContent_width-this.$viewport_width),this.$vidContent.animate({left:-i},500),this.$vidSmall.data("plugin_tinyscrollbar").update(i)}}},preview_clicked:function(t){this.play(t.currentTarget.id,!0)}}),UW.YouTube.Video=Backbone.Model.extend({initialize:function(){this.get("resourceId")&&(this.view=new UW.YouTube.VideoView({model:this}))}}),UW.YouTube.VideoView=Backbone.View.extend({initialize:function(){this.render()},render:function(){this.model.collection.view.$el.attr("aria-label","video: "+this.model.get("title"))}}),UW.YouTube.PlaylistItem=Backbone.Model.extend({initialize:function(){this.get("resourceId")&&(this.view=new UW.YouTube.PlaylistItemView({model:this}))}}),UW.YouTube.PlaylistItemView=Backbone.View.extend({template:"<li><button id='<%= resourceId.videoId %>' data-title='<%= title %>' class='video'><img src='<%= thumbnails.default.url %>'/><div class='text'><p class='title'><%= title %></p></div></button></li>",initialize:function(){this.$el=this.model.collection.view.$vidContent.find("ul"),this.render()},render:function(){var t=this.model.toJSON(),e=_.template(this.template)(t);this.$el.append(e)}}),UW.Vimeo=Backbone.View.extend({el:".uw-vimeo",events:{"click .preview":"loadVideo"},templates:{video:'<iframe id="test" src="https://player.vimeo.com/video/<%= video %>/?<%= $.param( defaults ) %>" width=<%= width %> height=<%= height %> title="<%= video.title %>" style=border:0 webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',playlist:'<div class="playlist"><% _.each( videos, function( video ) { %><div class="preview" data-id=<%= video.id %>><img src="<%= video.thumbnail_small %>" height=75 width=100 title="<%= video.title %>"/></div><% }) %></div>'},settings:{width:580,height:350},defaults:{api:1,title:0,portrait:0,byline:0,color:"4B2E82"},initialize:function(t){_.bindAll(this,"single","playlist","loadVideo"),this.options=_.extend({},this.settings,this.$el.data(),t),this.options.defaults=this.defaults,this.$el.width(this.options.width),this.options.video&&(this.video=new UW.Vimeo.Video(this.options.video),this.video.on("sync",this.single)),this.options.username&&(this.videos=new UW.Vimeo.Playlist({username:this.options.username}),this.videos.on("sync",this.playlist))},single:function(){this.player=_.template(this.templates.video)(this.options),this.$el.html(this.player)},playlist:function(){_.extend(this.options,{video:this.videos.first().get("id")}),this.player=_.template(this.templates.video)(this.options),this.videoList=_.template(this.templates.playlist)({videos:this.videos.toJSON()}),this.$el.html(this.player),this.$el.append(this.videoList)},loadVideo:function(t){var e=this.$el.find("iframe"),s=_.last(e.attr("src").split("?")),i="https://player.vimeo.com/video/"+$(t.currentTarget).data().id+"/?"+s;e.attr("src",i)}}),UW.Vimeo.Video=Backbone.Model.extend({url:function(){return"https://vimeo.com/api/v2/video/"+this.video+".json"},parse:function(t){return _.first(t)},initialize:function(t){this.video=t,this.fetch()}}),UW.Vimeo.Playlist=Backbone.Collection.extend({url:function(){return"https://vimeo.com/api/v2/"+this.username+"/videos.json"},initialize:function(t){this.username=t.username,this.fetch()},parse:function(t){return _.where(t,{embed_privacy:"anywhere"})}}),UW.Radio=Backbone.View.extend({states:{checked:"checked",disabled:"disabled"},events:{"click input":"toggle"},template:'<span class="icons"><span class="first-icon fui-radio-unchecked"></span><span class="second-icon fui-radio-checked"></span></span>',initialize:function(t){_.bindAll(this,"toggle","getGroup","toggleCheckBox"),this.settings=_.extend({},this.defaults,this.$el.data(),t),this.$el.after(this.template),this.$input=this.$el,this.name=this.$el.attr("name"),this.setElement(this.$el.closest("label")),this.setState()},setState:function(){this.$input.prop(this.states.disabled)&&this.$el.addClass(this.states.disabled),this.$input.prop(this.states.checked)&&this.$el.addClass(this.states.checked)},getGroup:function(){return"radio"===this.$input.attr("type")?_.where(UW.radio,{name:this.name}):"checkbox"===this.$input.attr("type")?_.where(UW.checkbox,{name:this.name}):void 0},toggle:function(t){_.each(this.getGroup(),this.toggleCheckBox)},toggleCheckBox:function(t){var e=t.$input.prop(this.states.checked),s=t.$input.prop(this.states.disabled);!s&&t.$el.removeClass(this.states.checked)&&t.$el.removeAttr(this.states.checked).trigger("change"),s||(e&&t.$el.addClass(this.states.checked)&&t.$el.trigger($.Event("toggle")),e!==t.$el.prop(this.states.checked)&&t.$el.trigger("change"))}}),UW.Dropdowns=Backbone.View.extend({chunkSize:8,menuWidth:1170,menuBlock:'<div class="menu-block"></div>',menuBlockWidth:230,index:{topmenu:0,submenu:0},elements:{toplevel:".dawgdrops-item"},keys:{enter:13,esc:27,tab:9,left:37,up:38,right:39,down:40,spacebar:32},events:{"keydown .dawgdrops-menu a":"moveFocusInSubMenu","keydown .dawgdrops-item > a":"toggleSubMenu","focus .dawgdrops-item":"positionSubmenu","mouseenter .dawgdrops-item":"positionSubmenu"},initialize:function(t){_.bindAll(this,"render","chunk","wrap","wrapChildren","positionSubmenu","toggleSubMenu"),this.settings=_.extend({},this.defaults,this.$el.data(),t),this.$topLevelNav=this.$el.find(this.elements.toplevel),this.render()},render:function(){_.each(this.$topLevelNav,this.wrapChildren)},chunk:function(t,e){return Math.floor(e/this.chunkSize)},wrapChildren:function(t){$(t).find("li").length>this.chunkSize&&_.each(_.groupBy($(t).find("li"),this.chunk),this.wrap)},wrap:function(t){$(t).wrapAll(this.menuBlock)},positionSubmenu:function(t){var e=$(t.currentTarget),s=e.position(),i=e.find(".menu-block"),n=this.menuBlockWidth*i.length+s.left>UW.$window.width()?e.outerWidth()+s.left-i.length*this.menuBlockWidth:s.left;e.find("ul").css({top:s.top+58,left:n})},toggleSubMenu:function(t){switch(t.keyCode){case this.keys.enter:case this.keys.down:return $(t.currentTarget).attr("aria-expanded","true"),this.currentSubMenu=$(t.currentTarget).siblings("ul"),this.currentSubMenuAnchors=this.currentSubMenu.find("a"),this.currentSubMenu.attr("aria-expanded","true").show().find("a").eq(0).focus(),!1;case this.keys.left:return $(t.currentTarget).parent().prev().children("a").first().focus(),!1;case this.keys.right:return $(t.currentTarget).parent().next().children("a").first().focus(),!1;case this.keys.spacebar:return window.location.href=$(t.currentTarget).attr("href"),!1}},moveFocusInSubMenu:function(t){switch(t.keyCode){case this.keys.tab:this.currentSubMenu&&(this.currentSubMenu.hide(),this.currentSubMenu=null,this.index.submenu=0);break;case this.keys.down:return this.index.submenu=this.index.submenu===this.currentSubMenuAnchors.length-1?0:this.index.submenu+1,this.currentSubMenuAnchors.eq(this.index.submenu).focus(),!1;case this.keys.up:return this.index.submenu=0===this.index.submenu?this.currentSubMenuAnchors.length-1:this.index.submenu-1,this.currentSubMenuAnchors.eq(this.index.submenu).focus(),!1;case this.keys.left:return this.currentSubMenu.hide().parent().prev().children("a").first().focus(),this.index.submenu=0,this.currentSubMenu.attr("aria-expanded","false").parent().children("a").first().attr("aria-expanded","false"),!1;case this.keys.right:return this.currentSubMenu.hide().parent().next().children("a").first().focus(),this.index.submenu=0,this.currentSubMenu.attr("aria-expanded","false").parent().children("a").first().attr("aria-expanded","false"),!1;case this.keys.spacebar:case this.keys.enter:return window.location.href=$(t.currentTarget).attr("href"),!1;case this.keys.esc:return this.currentSubMenu.attr("aria-expanded","false").hide().parent().children("a").first().attr("aria-expanded","false").focus(),!1;default:var e=String.fromCharCode(t.which),s=!1;return this.currentSubMenuAnchors.filter(function(){return s=this.innerHTML.charAt(0)===e}).first().focus(),!s}}}),UW.MobileMenu=Backbone.View.extend({events:{"click button":"toggle","click a":"openmenu"},initialize:function(t){_.bindAll(this,"toggle","reset_li","openmenu","cloneMenuAnchors"),this.settings=_.extend({},this.defaults,this.$el.data(),t),this.$mobilemenu_ul=this.$el.find("ul.uw-mobile-menu")},cloneMenuAnchors:_.once(function(){this.$el.find(".menu-item-has-children > a").each(function(){var t=$(this),e=t.next("ul");t.next("ul").first().prepend("<li>"+t[0].outerHTML+"</li>"),t.attr("aria-expanded",!1),e.attr("aria-hidden",!0)})}),openmenu:function(t){var e=$(t.target),s=e.next();0<s.length&&(t.preventDefault(),s.attr("aria-hidden",function(t,e){return"true"===e?"false":"true"}),e.attr("aria-expanded",function(t,e){return"true"===e?"false":"true"}),e.parent().toggleClass("active-menu"))},toggle:function(t){this.$mobilemenu_ul.toggle(),this.$el.addClass("active_nav"),this.cloneMenuAnchors()},reset_li:function(){this.$mobilemenu.find("li").removeAttr("style")}}),UW.ToggleSidebarMenu=Backbone.View.extend({events:{"click button":"toggleContent"},initialize:function(){console.log(this.el),this.toggleContent()},toggleContent:function(t){!0===this.showmeState?this.hideLinks():this.showLinks()},hideLinks:function(){this.$el.find("#mobile-sidebar-links").removeClass("visible-xs"),this.$el.find("#mobile-sidebar-menu").removeClass("open"),this.$el.find("#mobile-sidebar-title").html("Open Menu"),this.showmeState=!1},showLinks:function(){this.$el.find("#mobile-sidebar-links").addClass("visible-xs"),this.$el.find("#mobile-sidebar-menu").addClass("open"),this.$el.find("#mobile-sidebar-title").html("Close Menu"),this.showmeState=!0}}),UW.Accordion=Backbone.View.extend({el:".uw-accordion",events:{"click h3":"animate"},initialize:function(){_.bindAll(this,"animate"),this.$el.find("h3").addClass("inactive"),this.$el.find("div").addClass("inactive")},animate:function(t){var e=$(t.target);if(e.hasClass("inactive")){this.$el.find("h3.active").removeClass("active").addClass("inactive"),this.$el.find("div.active").animate({height:"0px"},500,function(){var t=$(this);t.removeClass("active").addClass("inactive"),t.removeAttr("style")}),e.removeClass("inactive").addClass("active");var s=e.next("div.inactive");s.removeClass("inactive").addClass("active");var i=s.outerHeight(!0);s.removeClass("active"),s.animate({height:i},500,function(){s.addClass("active"),s.removeAttr("style")})}else e.removeClass("active").addClass("inactive"),e.next("div.active").animate({height:"0px"},500,function(){var t=$(this);t.removeClass("active").addClass("inactive"),t.removeAttr("style")})}}),UW.Select=Backbone.View.extend({el:".uw-select",submit:!1,current:0,keyCodes:{enter:13,spacebar:32,tab:9,up:38,down:40},events:{"keydown li":"openMenuOnKeydown","click li.active":"open","click li.inactive":"close","click .uw-select-arrow":"open","click .uw-select-arrow.open":"closeWithoutAnimating",click:"closeWithoutAnimating"},template:'<div class="uw-select-mask"><ul class="uw-select"><% _.each( lis, function( title, value ) { %><li data-value="<%= value %>"><a href="#"><%= title %></a></li><% }) %></ul><span class="uw-select-arrow"></span></div>',initialize:function(t){_.bindAll(this,"open","close","addOpenClass","removeOpenClass","closeWithoutAnimating"),this.options=_.extend({},this.settings,this.$el.data(),t),this.parseSelect(),this.render(),$("body").click(this.closeWithoutAnimating)},open:function(t){return this.isOpen()?this.closeWithoutAnimating():this.addOpenClass(),!1},close:function(t){this.$target=$(t.currentTarget);var e=this.$target.index();return this.isDisabled(e)||(this.clicked=!0,this.current=e,this.animate(),this.toggleLIClasses()),!1},isDisabled:function(t){var e=this.$el.find("li").eq(t).data().value;return this.$select.find('option[value="'+e+'"]').prop("disabled")},closeWithoutAnimating:function(){this.$el.removeClass("open"),this.$el.children().removeClass("open")},animate:function(){this.scroll=this.$target.offset().top-this.$el.find("li").first().offset().top,this.$el.children("ul").animate({scrollTop:this.scroll},{queue:!1,complete:this.removeOpenClass})},cloneSelectEvents:function(){var t=this.$el.find("li").eq(this.current).data().value;this.$select.val(t),this.$select.find('option[value="'+t+'"]').prop("selected",!0),this.submit&&this.$select.parent("form").submit(),this.trigger_link&&(window.location=t),this.$select.hasClass("uw-select-wp")&&(window.location=UW.baseUrl+"?cat="+t)},render:function(){this.html=_.template(this.template)({lis:this.LIs}),this.$el.hide().after(this.html),this.$select=this.$el,this.setElement(this.$el.next()),this.toggleLIClasses(),this.$el.find("li").length<7&&this.$el.children("ul").height("auto")},parseSelect:function(){var t=_.map(this.$el.find("option"),this.getValue),e=_.map(this.$el.find("option"),this.getText);this.$el.data("submit")&&(this.submit=!0),"links"==this.$el.data("type")&&(this.trigger_link=!0),this.current=this.$el.find(":selected").index(),this.LIs=_.object(t,e)},toggleLIClasses:function(){this.$el.find("li").removeClass().addClass("inactive"),this.$el.find("li").eq(this.current).removeClass().addClass("active")},addOpenClass:function(){this.$el.addClass("open"),this.$el.children().addClass("open"),this.$el.children("ul").scrollTop(this.scroll)},removeOpenClass:function(t){this.cloneSelectEvents(),(this.clicked||t)&&(this.$el.removeClass("open"),this.$el.children().removeClass("open"),this.clicked=!1)},getText:function(t){return $(t).text()},getValue:function(t){return t.value},openMenuOnKeydown:function(t){if(t.keyCode==this.keyCodes.tab&&!this.isOpen())return!0;if(_.contains(this.keyCodes,t.keyCode)){switch(this.isOpen()||this.open(),t.keyCode){case this.keyCodes.down:this.down();break;case this.keyCodes.up:this.up();break;case this.keyCodes.enter:case this.keyCodes.spacebar:this.current!=this.$select.val()&&(this.removeOpenClass(!0),this.toggleLIClasses(),this.cloneSelectEvents())}return!1}},up:function(){this.atEdge("up")||(this.current-=1,this.move())},down:function(){this.atEdge("down")||(this.current+=1,this.move())},move:function(){this.$target=this.$el.find("li").eq(this.current),this.$target.find("a").focus(),this.animate()},atEdge:function(t){return 0===this.current&&"up"===t||this.current===this.$el.find("li").length-1&&"down"===t},isOpen:function(){return this.$el.hasClass("open")}}),UW.Image=Backbone.View.extend({RATIO:.8,template:'<div class="uw-overlay"><div></div><div class="wrapper" style="width:<%= width %>px; margin-top:-<%= height/2 %>px; margin-left:-<%= width/2 %>px;"><span class="close"> Close</span><img src="<%= src %>" alt="<%=alt %>" style="width:100%;" /><p><%= caption %></p></div></div>',templateVideo:'<div class="uw-overlay"><div></div><div class="wrapper" style="width:<%= width %>px; margin-top:-<%= height/2 %>px; margin-left:-<%= width/2 %>px;"><span class="close"> Close</span><iframe width="<%= width %>" height="<%= height %>" src="<%= src %>" style="border:0" allowfullscreen="" title="<%= caption %>"></iframe><p><%= caption %></p><p><%= credit %></p></div></div>',events:{click:function(t){if(this.attrs=this.getAttributes(t),this.attrs.src)return this.fetchImage(),!1}},initialize:function(){_.bindAll(this,"fetchImage","overlay","render")},fetchImage:function(t){return $('<img src="'+this.attrs.src+'"/>').imagesLoaded(this.overlay),!1},overlay:function(t){var e,s=-1<this.attrs.rel.indexOf("uw-lightbox-video");if(s||!t.hasAnyBroken)return this.image=_.first(t.images),e=this.image.img.width/this.image.img.height,this.attrs.height=this.image.img.height,this.attrs.width=this.image.img.width,s&&(e=560/315,this.attrs.height=630,this.attrs.width=1120),this.attrs.height>this.RATIO*UW.$window.height()&&(this.attrs.height=this.RATIO*UW.$window.height(),this.attrs.width=e*this.attrs.height),this.attrs.width>this.RATIO*UW.$window.width()&&(this.attrs.width=this.RATIO*UW.$window.width(),this.attrs.height=this.attrs.width/e),this.render(),!1;this.attrs.src&&(window.location=this.attrs.src)},render:function(){return UW.$body.one("click",this.remove),"uw-lightbox-video"==this.attrs.rel?UW.$body.append(_.template(this.templateVideo)(this.attrs)):UW.$body.append(_.template(this.template)(this.attrs))},remove:function(){return UW.$body.find(".uw-overlay").remove(),!1},getAttributes:function(t){var e=$(t.currentTarget),s=e.parent("a").siblings(".wp-caption-text").html();if(!s){var i=e.parent("a").parent(".gallery-icon");i&&(s=i.siblings(".wp-caption-text").text())}return{src:e.parent("a").attr("href")?e.parent("a").attr("href"):"",alt:e.attr("alt"),rel:e.parent("a").attr("rel")?e.parent("a").attr("rel"):"",caption:s}}}),UW.Player=Backbone.View.extend({defaults:{},initialize:function(t){}}),UW.Social=Backbone.View.extend({el:".uw-social",template:'<ul><% if ( _.isString( facebook ) ) { %> <li><a class="uw-social-facebook" href="http://www.facebook.com/sharer.php?u=<%= url %>">Facebook</a></li> <% } %><% if ( _.isString( twitter ) ) { %> <li><a class="uw-social-twitter" href="http://twitter.com/?status=<%= url %>">Twitter</a></li> <% } %><% if ( _.isString( reddit ) ) { %> <li><a class="uw-social-reddit" href="http://reddit.com/submit?url=<%= url %>">Reddit</a></li> <% } %><% if ( _.isString( digg ) ) { %> <li><a class="uw-social-reddit" href="http://digg.com/submit?url=<%= url %>">Digg</a></li> <% } %><% if ( _.isString( stumbleupon ) ) { %> <li><a class="uw-social-reddit" href="http://www.stumbleupon.com/submit?url=<%= url %>">StumbleUpon</a></li> <% } %></ul>',settings:{facebook:!1,twitter:!1,reddit:!1,digg:!1,stumbleupon:!1,url:document.URL},initialize:function(t){this.options=_.extend({},this.settings,this.$el.data(),t),this.buttons=_.template(this.template)(this.options),this.$el.html(this.buttons)}}),jQuery(document).ready(function(t){t("a.uw-custom-link").addClass("disable_a_href")})}).call(this),$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(T){var a=[],e=!!window.createPopup,c=!1,M="ontouchstart"in window,s=!1,u=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},i=window.cancelAnimationFrame||function(t){clearTimeout(t)};function r(t){var e=".smartmenus_mouse";if(s||t)s&&t&&(T(document).unbind(e),s=!1);else{var o=!0,r=null;T(document).bind(E([["mousemove",function(t){var e={x:t.pageX,y:t.pageY,timeStamp:(new Date).getTime()};if(r){var s=Math.abs(r.x-e.x),i=Math.abs(r.y-e.y);if((0<s||0<i)&&s<=2&&i<=2&&e.timeStamp-r.timeStamp<=300&&(c=!0,o)){var n=T(t.target).closest("a");n.is("a")&&T.each(a,function(){if(T.contains(this.$root[0],n[0]))return this.itemEnter({currentTarget:n[0]}),!1}),o=!1}}r=e}],[M?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(t){l(t.originalEvent)&&(c=!1)}]],e)),s=!0}}function l(t){return!/^(4|mouse)$/.test(t.pointerType)}function E(t,s){s=s||"";var i={};return T.each(t,function(t,e){i[e[0].split(" ").join(s+" ")+s]=e[1]}),i}return T.SmartMenus=function(t,e){this.$root=T(t),this.opts=e,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in t.style||"webkitPerspective"in t.style,this.wasCollapsible=!1,this.init()},T.extend(T.SmartMenus,{hideAll:function(){T.each(a,function(){this.menuHideAll()})},destroy:function(){for(;a.length;)a[0].destroy();r(!0)},prototype:{init:function(t){var s=this;if(!t){a.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var e=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(E([["mouseover focusin",T.proxy(this.rootOver,this)],["mouseout focusout",T.proxy(this.rootOut,this)],["keydown",T.proxy(this.rootKeyDown,this)]],e)).delegate("a",E([["mouseenter",T.proxy(this.itemEnter,this)],["mouseleave",T.proxy(this.itemLeave,this)],["mousedown",T.proxy(this.itemDown,this)],["focus",T.proxy(this.itemFocus,this)],["blur",T.proxy(this.itemBlur,this)],["click",T.proxy(this.itemClick,this)]],e)),e+=this.rootId,this.opts.hideOnClick&&T(document).bind(E([["touchstart",T.proxy(this.docTouchStart,this)],["touchmove",T.proxy(this.docTouchMove,this)],["touchend",T.proxy(this.docTouchEnd,this)],["click",T.proxy(this.docClick,this)]],e)),T(window).bind(E([["resize orientationchange",T.proxy(this.winResize,this)]],e)),this.opts.subIndicators&&(this.$subArrow=T("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),r()}if(this.$firstSub=this.$root.find("ul").each(function(){s.menuInit(T(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var i=/(index|default)\.[^#\?\/]*/i,n=window.location.href.replace(i,""),o=n.replace(/#.*/,"");this.$root.find("a").each(function(){var t=this.href.replace(i,""),e=T(this);t!=n&&t!=o||(e.addClass("current"),s.opts.markCurrentTree&&e.parentsUntil("[data-smartmenus-id]","ul").each(function(){T(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=this.isCollapsible()},destroy:function(t){if(!t){var e=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(e).undelegate(e),e+=this.rootId,T(document).unbind(e),T(window).unbind(e),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var s=this;this.$root.find("ul").each(function(){var t=T(this);t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.dataSM("shown-before")&&((s.opts.subMenusMinWidth||s.opts.subMenusMaxWidth)&&t.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(t.attr("id")||"").indexOf(s.accessIdPrefix)&&t.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each(function(){var t=T(this);0==t.attr("id").indexOf(s.accessIdPrefix)&&t.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),t||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),a.splice(T.inArray(this,a),1))},disable:function(t){if(!this.disabled){if(this.menuHideAll(),!t&&!this.opts.isPopup&&this.$root.is(":visible")){var e=this.$root.offset();this.$disableOverlay=T('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:e.top,left:e.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(t){this.$touchScrollingSub?this.$touchScrollingSub=null:(this.visibleSubMenus.length&&!T.contains(this.$root[0],t.target)||T(t.target).is("a"))&&this.menuHideAll()},docTouchEnd:function(t){if(this.lastTouch){if(this.visibleSubMenus.length&&(void 0===this.lastTouch.x2||this.lastTouch.x1==this.lastTouch.x2)&&(void 0===this.lastTouch.y2||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!T.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(t){for(var e=T(t).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");return e[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var s;"none"==t.css("display")&&(s={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var i=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),n=i&&(e?i.height||i.bottom-i.top:i.width||i.right-i.left);return n||0===n||(n=e?t[0].offsetHeight:t[0].offsetWidth),s&&t.hide().css(s),n},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",s=document.documentElement["client"+e],i=window["inner"+e];return i&&(s=Math.min(s,i)),s},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var t="fixed"==this.$root.css("position");return t||this.$root.parentsUntil("body").each(function(){if("fixed"==T(this).css("position"))return!(t=!0)}),t},isLinkInMegaMenu:function(t){return T(this.getClosestMenu(t[0])).hasClass("mega-menu")},isTouchMode:function(){return!c||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(t,e){var s=t.closest("ul"),i=s.dataSM("level");if(1<i&&(!this.activatedItems[i-2]||this.activatedItems[i-2][0]!=s.dataSM("parent-a")[0])){var n=this;T(s.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(s).each(function(){n.itemActivate(T(this).dataSM("parent-a"))})}if(this.isCollapsible()&&!e||this.menuHideSubMenus(this.activatedItems[i-1]&&this.activatedItems[i-1][0]==t[0]?i:i-1),this.activatedItems[i-1]=t,!1!==this.$root.triggerHandler("activate.smapi",t[0])){var o=t.dataSM("sub");o&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(o)}},itemBlur:function(t){var e=T(t.currentTarget);this.handleItemEvents(e)&&this.$root.triggerHandler("blur.smapi",e[0])},itemClick:function(t){var e=T(t.currentTarget);if(this.handleItemEvents(e)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==e.closest("ul")[0])return this.$touchScrollingSub=null,t.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",e[0]))return!1;var s=T(t.target).is("span.sub-arrow"),i=e.dataSM("sub"),n=!!i&&2==i.dataSM("level");if(i&&!i.is(":visible")){if(this.opts.showOnClick&&n&&(this.clickActivated=!0),this.itemActivate(e),i.is(":visible"))return!(this.focusActivated=!0)}else if(this.isCollapsible()&&s)return this.itemActivate(e),this.menuHide(i),!1;return!(this.opts.showOnClick&&n||e.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",e[0]))&&void 0}},itemDown:function(t){var e=T(t.currentTarget);this.handleItemEvents(e)&&e.dataSM("mousedown",!0)},itemEnter:function(t){var e=T(t.currentTarget);if(this.handleItemEvents(e)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var s=this;this.showTimeout=setTimeout(function(){s.itemActivate(e)},this.opts.showOnClick&&1==e.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",e[0])}},itemFocus:function(t){var e=T(t.currentTarget);this.handleItemEvents(e)&&(!this.focusActivated||this.isTouchMode()&&e.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==e[0]||this.itemActivate(e,!0),this.$root.triggerHandler("focus.smapi",e[0]))},itemLeave:function(t){var e=T(t.currentTarget);this.handleItemEvents(e)&&(this.isTouchMode()||(e[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),e.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",e[0]))},menuHide:function(t){if(!1!==this.$root.triggerHandler("beforehide.smapi",t[0])&&(t.stop(!0,!0),"none"!=t.css("display"))){function e(){t.css("z-index","")}this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,e):t.hide(this.opts.collapsibleHideDuration,e):this.opts.hideFunction?this.opts.hideFunction.call(this,t,e):t.hide(this.opts.hideDuration,e),t.dataSM("ie-shim")&&t.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""}),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),t.attr({"aria-expanded":"false","aria-hidden":"true"});var s=t.dataSM("level");this.activatedItems.splice(s-1,1),this.visibleSubMenus.splice(T.inArray(t,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",t[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;t<=e;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;t<=e;e--){var s=this.activatedItems[e].dataSM("sub");s&&this.menuHide(s)}},menuIframeShim:function(t){e&&this.opts.overlapControlsInIE&&!t.dataSM("ie-shim")&&t.dataSM("ie-shim",T("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,s=t[0];(s=s.parentNode.parentNode)!=this.$root[0];)e++;var i=t.prevAll("a").eq(-1);i.length||(i=t.prevAll().find("a").eq(-1)),i.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",i).dataSM("level",e).parent().dataSM("sub",t);var n=i.attr("id")||this.accessIdPrefix+ ++this.idInc,o=t.attr("id")||this.accessIdPrefix+ ++this.idInc;i.attr({id:n,"aria-haspopup":"true","aria-controls":o,"aria-expanded":"false"}),t.attr({id:o,role:"group","aria-hidden":"true","aria-labelledby":n,"aria-expanded":"false"}),this.opts.subIndicators&&i[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var t,s,i=e.dataSM("parent-a"),n=i.closest("li"),o=n.parent(),r=e.dataSM("level"),a=this.getWidth(e),l=this.getHeight(e),c=i.offset(),u=c.left,h=c.top,d=this.getWidth(i),p=this.getHeight(i),v=T(window),m=v.scrollLeft(),f=v.scrollTop(),g=this.getViewportWidth(),y=this.getViewportHeight(),j=o.parent().is("[data-sm-horizontal-sub]")||2==r&&!o.hasClass("sm-vertical"),b=this.opts.rightToLeftSubMenus&&!n.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&n.is("[data-sm-reverse]"),w=2==r?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,_=2==r?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(s=j?(t=b?d-a-w:w,this.opts.bottomToTopSubMenus?-l-_:p+_):(t=b?w-a:d-w,this.opts.bottomToTopSubMenus?p-_-l:_),this.opts.keepInViewport){var S=u+t,k=h+s;if(b&&S<m?t=j?m-S+t:d-w:!b&&m+g<S+a&&(t=j?m+g-a-S+t:w-a),j||(l<y&&f+y<k+l?s+=f+y-l-k:(y<=l||k<f)&&(s+=f-k)),j&&(f+y+.49<k+l||k<f)||!j&&y+.49<l){var C=this;e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",T([T('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],T('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){e.dataSM("scroll").up=T(this).hasClass("scroll-up"),C.menuScroll(e)},mouseleave:function(t){C.menuScrollStop(e),C.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(e));var x=".smartmenus_scroll";e.dataSM("scroll",{y:this.cssTransforms3d?0:s-p,step:1,itemH:p,subH:l,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).bind(E([["mouseover",function(t){C.menuScrollOver(e,t)}],["mouseout",function(t){C.menuScrollOut(e,t)}],["mousewheel DOMMouseScroll",function(t){C.menuScrollMousewheel(e,t)}]],x)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:t+(parseInt(e.css("border-left-width"))||0),width:a-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(j&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&e.css({"touch-action":"none","-ms-touch-action":"none"}).bind(E([[M?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(t){C.menuScrollTouch(e,t)}]],x))}}e.css({top:"auto",left:"0",marginLeft:t,marginTop:s-p}),this.menuIframeShim(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").css({zIndex:e.css("z-index"),width:a,height:l,marginLeft:t,marginTop:s-p})},menuScroll:function(t,e,s){var i,n=t.dataSM("scroll"),o=t.dataSM("scroll-arrows"),r=n.up?n.upEnd:n.downEnd;if(!e&&n.momentum){if(n.momentum*=.92,(i=n.momentum)<.5)return void this.menuScrollStop(t)}else i=s||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(n.step));var a=t.dataSM("level");if(this.activatedItems[a-1]&&this.activatedItems[a-1].dataSM("sub")&&this.activatedItems[a-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(a-1),n.y=n.up&&r<=n.y||!n.up&&r>=n.y?n.y:Math.abs(r-n.y)>i?n.y+(n.up?i:-i):r,t.add(t.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+n.y+"px, 0)",transform:"translate3d(0, "+n.y+"px, 0)"}:{marginTop:n.y}),c&&(n.up&&n.y>n.downEnd||!n.up&&n.y<n.upEnd)&&o.eq(n.up?1:0).show(),n.y==r)c&&o.eq(n.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&n.step<this.opts.scrollStep&&(n.step+=.2);var l=this;this.scrollTimeout=u(function(){l.menuScroll(t)})}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){var s=0<((e=e.originalEvent).wheelDelta||-e.detail);t.dataSM("scroll-arrows").eq(s?0:1).is(":visible")&&(t.dataSM("scroll").up=s,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(t,e){c&&(/^scroll-(up|down)/.test((e.relatedTarget||"").className)||(t[0]==e.relatedTarget||T.contains(t[0],e.relatedTarget))&&this.getClosestMenu(e.relatedTarget)==t[0]||t.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(t,e){if(c&&!/^scroll-(up|down)/.test(e.target.className)&&this.getClosestMenu(e.target)==t[0]){this.menuScrollRefreshData(t);var s=t.dataSM("scroll"),i=T(window).scrollTop()-t.dataSM("parent-a").offset().top-s.itemH;t.dataSM("scroll-arrows").eq(0).css("margin-top",i).end().eq(1).css("margin-top",i+this.getViewportHeight()-s.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(t){var e=t.dataSM("scroll"),s=T(window).scrollTop()-t.dataSM("parent-a").offset().top-e.itemH;this.cssTransforms3d&&(s=-(parseFloat(t.css("margin-top"))-s)),T.extend(e,{upEnd:s,downEnd:s+this.getViewportHeight()-e.subH})},menuScrollStop:function(t){if(this.scrollTimeout)return i(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0},menuScrollTouch:function(t,e){if(l(e=e.originalEvent)){var s=this.getTouchPoint(e);if(this.getClosestMenu(s.target)==t[0]){var i=t.dataSM("scroll");if(/(start|down)$/i.test(e.type))this.menuScrollStop(t)?(e.preventDefault(),this.$touchScrollingSub=t):this.$touchScrollingSub=null,this.menuScrollRefreshData(t),T.extend(i,{touchStartY:s.pageY,touchStartTime:e.timeStamp});else if(/move$/i.test(e.type)){var n=void 0!==i.touchY?i.touchY:i.touchStartY;if(void 0!==n&&n!=s.pageY){this.$touchScrollingSub=t;var o=n<s.pageY;void 0!==i.up&&i.up!=o&&T.extend(i,{touchStartY:s.pageY,touchStartTime:e.timeStamp}),T.extend(i,{up:o,touchY:s.pageY}),this.menuScroll(t,!0,Math.abs(s.pageY-n))}e.preventDefault()}else void 0!==i.touchY&&((i.momentum=15*Math.pow(Math.abs(s.pageY-i.touchStartY)/(e.timeStamp-i.touchStartTime),2))&&(this.menuScrollStop(t),this.menuScroll(t),e.preventDefault()),delete i.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",t[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",t[0])&&(t.dataSM("shown-before",!0).stop(!0,!0),!t.is(":visible"))){var e=t.dataSM("parent-a");if((this.opts.keepHighlighted||this.isCollapsible())&&e.addClass("highlighted"),this.isCollapsible())t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var s=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),s>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t),t.dataSM("ie-shim")&&t.dataSM("ie-shim").insertBefore(t)}function i(){t.css("overflow","")}this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,i):t.show(this.opts.collapsibleShowDuration,i):this.opts.showFunction?this.opts.showFunction.call(this,t,i):t.show(this.opts.showDuration,i),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:t,top:e}).insertBefore(this.$root);function s(){i.$root.css("overflow","")}var i=this;this.opts.showFunction?this.opts.showFunction.call(this,this.$root,s):this.$root.show(this.opts.showDuration,s),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(t){if(this.handleEvents())switch(t.keyCode){case 27:var e=this.activatedItems[0];if(e)this.menuHideAll(),e[0].focus(),(s=e.dataSM("sub"))&&this.menuHide(s);break;case 32:var s,i=T(t.target);if(i.is("a")&&this.handleItemEvents(i))(s=i.dataSM("sub"))&&!s.is(":visible")&&(this.itemClick({currentTarget:t.target}),t.preventDefault())}},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==t.type){var e=this.isCollapsible();this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e}}else if(this.$disableOverlay){var s=this.$root.offset();this.$disableOverlay.css({top:s.top,left:s.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),T.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},T.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},T.fn.smartmenus=function(t){if("string"==typeof t){var e=arguments,s=t;return Array.prototype.shift.call(e),this.each(function(){var t=T(this).data("smartmenus");t&&t[s]&&t[s].apply(t,e)})}var i=T.extend({},T.fn.smartmenus.defaults,t);return this.each(function(){new T.SmartMenus(this,i)})},T.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:20,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0},T}),function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(p){function v(t){return t.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(0)}function m(t){return t.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(-1)}function f(t,e){var s=t.nextAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(0);return e||s.length?s:v(t.parent())}function g(t,e){var s=t.prevAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(/^1\.8\./.test(p.fn.jquery)?0:-1);return e||s.length?s:m(t.parent())}return p.fn.focusSM=function(){return this.length&&this[0].focus&&this[0].focus(),this},p.extend(p.SmartMenus.Keyboard={},{docKeydown:function(t){var e=t.keyCode;if(/^(37|38|39|40)$/.test(e)){var s=p(this),i=s.data("smartmenus"),n=p(t.target);if(i&&n.is("a")&&i.handleItemEvents(n)){var o=n.closest("li"),r=o.parent(),a=r.dataSM("level");switch(s.hasClass("sm-rtl")&&(37==e?e=39:39==e&&(e=37)),e){case 37:if(i.isCollapsible())break;2<a||2==a&&s.hasClass("sm-vertical")?i.activatedItems[a-2].focusSM():s.hasClass("sm-vertical")||g((i.activatedItems[0]||n).closest("li")).focusSM();break;case 38:var l;if(i.isCollapsible())1<a&&(l=v(r)).length&&n[0]==l[0]?i.activatedItems[a-2].focusSM():g(o).focusSM();else 1==a&&!s.hasClass("sm-vertical")&&i.opts.bottomToTopSubMenus?(!i.activatedItems[0]&&n.dataSM("sub")&&(i.opts.showOnClick&&(i.clickActivated=!0),i.itemActivate(n),n.dataSM("sub").is(":visible")&&(i.focusActivated=!0)),i.activatedItems[0]&&i.activatedItems[0].dataSM("sub")&&i.activatedItems[0].dataSM("sub").is(":visible")&&!i.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&m(i.activatedItems[0].dataSM("sub")).focusSM()):(1<a||s.hasClass("sm-vertical"))&&g(o).focusSM();break;case 39:if(i.isCollapsible())break;1==a&&s.hasClass("sm-vertical")?(!i.activatedItems[0]&&n.dataSM("sub")&&(i.opts.showOnClick&&(i.clickActivated=!0),i.itemActivate(n),n.dataSM("sub").is(":visible")&&(i.focusActivated=!0)),i.activatedItems[0]&&i.activatedItems[0].dataSM("sub")&&i.activatedItems[0].dataSM("sub").is(":visible")&&!i.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&v(i.activatedItems[0].dataSM("sub")).focusSM()):1!=a&&(!i.activatedItems[a-1]||i.activatedItems[a-1].dataSM("sub")&&i.activatedItems[a-1].dataSM("sub").is(":visible")&&!i.activatedItems[a-1].dataSM("sub").hasClass("mega-menu"))||s.hasClass("sm-vertical")?i.activatedItems[a-1]&&i.activatedItems[a-1].dataSM("sub")&&i.activatedItems[a-1].dataSM("sub").is(":visible")&&!i.activatedItems[a-1].dataSM("sub").hasClass("mega-menu")&&v(i.activatedItems[a-1].dataSM("sub")).focusSM():f((i.activatedItems[0]||n).closest("li")).focusSM();break;case 40:var c,u;if(i.isCollapsible())if(i.activatedItems[a-1]&&i.activatedItems[a-1].dataSM("sub")&&i.activatedItems[a-1].dataSM("sub").is(":visible")&&!i.activatedItems[a-1].dataSM("sub").hasClass("mega-menu")&&(c=v(i.activatedItems[a-1].dataSM("sub"))).length)c.focusSM();else if(1<a&&(u=m(r)).length&&n[0]==u[0]){for(var h=i.activatedItems[a-2].closest("li"),d=null;h.is("li")&&!(d=f(h,!0)).length;)h=h.parent().parent();d.length?d.focusSM():v(s).focusSM()}else f(o).focusSM();else 1!=a||s.hasClass("sm-vertical")||i.opts.bottomToTopSubMenus?(1<a||s.hasClass("sm-vertical"))&&f(o).focusSM():(!i.activatedItems[0]&&n.dataSM("sub")&&(i.opts.showOnClick&&(i.clickActivated=!0),i.itemActivate(n),n.dataSM("sub").is(":visible")&&(i.focusActivated=!0)),i.activatedItems[0]&&i.activatedItems[0].dataSM("sub")&&i.activatedItems[0].dataSM("sub").is(":visible")&&!i.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&v(i.activatedItems[0].dataSM("sub")).focusSM())}t.stopPropagation(),t.preventDefault()}}}}),p(document).delegate("ul.sm, ul.navbar-nav:not([data-sm-skip])","keydown.smartmenus",p.SmartMenus.Keyboard.docKeydown),p.extend(p.SmartMenus.prototype,{keyboardSetHotkey:function(t,n){var e=this;p(document).bind("keydown.smartmenus"+this.rootId,function(s){if(t==s.keyCode){var i=!0;n&&("string"==typeof n&&(n=[n]),p.each(["ctrlKey","shiftKey","altKey","metaKey"],function(t,e){if(0<=p.inArray(e,n)&&!s[e]||p.inArray(e,n)<0&&s[e])return i=!1})),i&&(v(e.$root).focusSM(),s.stopPropagation(),s.preventDefault())}})}}),p});